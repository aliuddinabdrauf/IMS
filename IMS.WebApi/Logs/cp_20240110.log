2024-01-10T00:00:21.4391673+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:00:21.5108574+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:00:21.5164793+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:00:21.5202309+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:00:21.5253662+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:00:21.5308983+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:00:21.5320252+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:00:21.5328122+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:00:21.5328921+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:00:21.5371281+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:00:21.5374536+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:00:21.5571812+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:00:21.5573203+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:00:21.5574665+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:00:21.5575369+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:00:21.5575866+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:00:21.5576273+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:00:21.9875194+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5GAR0FRB"" received FIN.
2024-01-10T00:00:21.9910895+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRB"" accepted.
2024-01-10T00:00:21.9917071+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRB"" started.
2024-01-10T00:00:21.9974305+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5GAR0FRB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:00:22.0017178+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRB"" disconnecting.
2024-01-10T00:00:22.0038694+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRB"" stopped.
2024-01-10T00:00:22.5256477+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRC"" accepted.
2024-01-10T00:00:22.5258917+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRC"" started.
2024-01-10T00:00:22.5261541+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRD"" accepted.
2024-01-10T00:00:22.5262759+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRD"" started.
2024-01-10T00:00:22.6099582+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:00:22.6131052+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:00:22.6280826+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:00:22.6286242+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:00:22.7063754+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRC"" completed keep alive response.
2024-01-10T00:00:22.7075316+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 99.9121ms
2024-01-10T00:00:22.9504153+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:00:22.9515988+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:00:22.9517620+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:00:23.0514117+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRC"" completed keep alive response.
2024-01-10T00:00:23.0517938+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 101.3846ms
2024-01-10T00:00:26.4265833+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRE"" accepted.
2024-01-10T00:00:26.4269085+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRE"" started.
2024-01-10T00:00:26.4298166+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:00:26.4372519+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:00:26.4405869+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:00:26.4411802+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:00:26.4432603+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:00:26.4809077+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:00:26.4827302+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:00:26.4985337+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:00:26.4996614+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:00:26.4997631+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:00:26.5006924+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:00:26.5007798+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:00:26.5008487+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:00:26.5020964+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:00:26.6091978+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:00:26.6336915+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:00:26.6390166+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:00:26.6416868+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:00:26.6426172+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:00:26.6538547+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5GAR0FRE"", Request id ""0HN0H5GAR0FRE:00000001"": started reading request body.
2024-01-10T00:00:26.6540657+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5GAR0FRE"", Request id ""0HN0H5GAR0FRE:00000001"": done reading request body.
2024-01-10T00:00:26.6615189+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:00:26.6619081+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:00:26.6620203+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:00:26.6621278+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:00:26.6703027+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:00:26.6771095+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:00:26.6949908+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:00:27.6917511+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:00:27.7442644+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:00:27.9034658+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:00:27.9373477+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:00:27.9424624+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:00:27.9457471+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.1006983+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.1062294+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:00:28.1127445+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T00:00:28.1179929+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (11ms).
2024-01-10T00:00:28.1273544+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:00:28.2222512+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("97"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:00:28.2555990+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.2659120+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 35ms reading results.
2024-01-10T00:00:28.2713901+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.2770242+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T00:00:28.4441821+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:00:28.5654234+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:00:28.5966047+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:00:28.6010430+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:00:28.6049758+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:00:28.6115958+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordHash"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:00:28.6118590+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:00:28.6125992+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordSalt"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:00:28.6180368+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:00:28.6225879+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:00:28.6941296+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:00:28.6978160+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.6982402+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.7003491+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:00:28.7063855+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:00:28.7097175+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:00:28.7097963+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:00:28.7105720+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:00:28.8337956+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5
WHERE id = @p6;"
2024-01-10T00:00:28.8484848+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("137"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5
WHERE id = @p6;"
2024-01-10T00:00:28.8541062+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2024-01-10T00:00:28.8546554+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.8547326+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 6ms reading results.
2024-01-10T00:00:28.8614762+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:00:28.8629895+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.8631729+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:00:28.8765193+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2370.8453ms
2024-01-10T00:00:28.8774879+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:00:28.9799994+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5GAR0FRE"" received FIN.
2024-01-10T00:00:28.9802464+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5GAR0FRE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:00:28.9813872+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRE"" disconnecting.
2024-01-10T00:00:28.9832510+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:00:28.9897678+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:00:28.9931664+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T00:00:28.9942859+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2564.4901ms
2024-01-10T00:00:28.9985649+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRE"" stopped.
2024-01-10T00:01:23.0226973+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:01:23.0244887+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:01:23.0313154+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRC"" disconnecting.
2024-01-10T00:01:23.0313155+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRD"" disconnecting.
2024-01-10T00:01:23.0314138+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRC"" stopped.
2024-01-10T00:01:23.0314794+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5GAR0FRD"" stopped.
2024-01-10T00:01:23.0315372+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5GAR0FRC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:01:23.0316337+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5GAR0FRD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:01:23.0360424+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:02:45.1719847+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:02:45.2435879+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:02:45.2489114+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:02:45.2526194+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:02:45.2577522+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:02:45.2631658+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:02:45.2644483+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:02:45.2651483+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:02:45.2652287+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:02:45.2691326+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:02:45.2694577+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:02:45.2881307+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:02:45.2882409+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:02:45.2883402+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:02:45.2884073+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:02:45.2884406+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:02:45.2884771+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:02:45.6988177+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5HLLHM8E"" received FIN.
2024-01-10T00:02:45.7027907+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8E"" accepted.
2024-01-10T00:02:45.7040363+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8E"" started.
2024-01-10T00:02:45.7139477+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5HLLHM8E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:02:45.7214710+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8E"" disconnecting.
2024-01-10T00:02:45.7247324+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8E"" stopped.
2024-01-10T00:02:46.2846612+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8F"" accepted.
2024-01-10T00:02:46.2850273+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8F"" started.
2024-01-10T00:02:46.2853781+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8G"" accepted.
2024-01-10T00:02:46.2855221+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8G"" started.
2024-01-10T00:02:46.3886608+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:02:46.3916809+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:02:46.4087726+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:02:46.4092165+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:02:46.4914581+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8F"" completed keep alive response.
2024-01-10T00:02:46.4926526+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 105.3757ms
2024-01-10T00:02:46.7431426+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:02:46.7442804+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:02:46.7444951+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:02:46.8527559+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8F"" completed keep alive response.
2024-01-10T00:02:46.8530394+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 109.9295ms
2024-01-10T00:02:52.1794843+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8H"" accepted.
2024-01-10T00:02:52.1796315+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8H"" started.
2024-01-10T00:02:52.1807481+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:02:52.1850795+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:02:52.1881165+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:02:52.1888686+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:02:52.1912087+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:02:52.2233734+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:02:52.2247636+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:02:52.2393932+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:02:52.2406883+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:02:52.2407893+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:02:52.2416839+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:02:52.2417558+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:02:52.2418381+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:02:52.2429134+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:02:52.3467811+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:02:52.3716068+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:02:52.3752698+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:02:52.3768280+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:02:52.3777036+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:02:52.3872971+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5HLLHM8H"", Request id ""0HN0H5HLLHM8H:00000001"": started reading request body.
2024-01-10T00:02:52.3874668+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5HLLHM8H"", Request id ""0HN0H5HLLHM8H:00000001"": done reading request body.
2024-01-10T00:02:52.3949859+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:02:52.3953158+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:02:52.3954414+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:02:52.3956010+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:02:52.4043562+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:02:52.4122384+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:02:52.4303384+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:02:53.5378713+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:02:53.5921263+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:02:53.7707930+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:02:53.8094677+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:02:53.8158552+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:02:53.8202271+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:02:53.9820755+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:02:53.9883893+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:02:53.9956268+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (3ms).
2024-01-10T00:02:54.0011137+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (12ms).
2024-01-10T00:02:54.0112397+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:02:54.1172505+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("108"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:02:54.1524853+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:02:54.1641893+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 37ms reading results.
2024-01-10T00:02:54.1704429+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:02:54.1764157+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T00:02:54.3750028+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:02:54.4798569+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblBase"."Id"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:02:54.4978560+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2249.1398ms
2024-01-10T00:02:54.4993818+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:02:54.6356811+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5HLLHM8H"" received FIN.
2024-01-10T00:02:54.6359753+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5HLLHM8H"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:02:54.6370969+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8H"" disconnecting.
2024-01-10T00:02:54.6400652+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:02:54.6486595+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:02:54.6525889+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (4ms).
2024-01-10T00:02:54.6537059+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2472.9449ms
2024-01-10T00:02:54.6586170+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8H"" stopped.
2024-01-10T00:03:30.9928437+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:03:30.9943936+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:03:31.0022799+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8G"" disconnecting.
2024-01-10T00:03:31.0022798+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8F"" disconnecting.
2024-01-10T00:03:31.0024081+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8G"" stopped.
2024-01-10T00:03:31.0024340+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5HLLHM8F"" stopped.
2024-01-10T00:03:31.0024777+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5HLLHM8G"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:03:31.0026028+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5HLLHM8F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:03:31.0066201+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:05:35.8358313+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:05:35.9045401+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:05:35.9096321+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:05:35.9132231+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:05:35.9182644+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:05:35.9236547+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:05:35.9248380+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:05:35.9255653+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:05:35.9256311+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:05:35.9296049+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:05:35.9299423+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:05:35.9481413+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:05:35.9482459+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:05:35.9483618+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:05:35.9484265+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:05:35.9484538+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:05:35.9484854+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:05:36.3859820+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB913"" received FIN.
2024-01-10T00:05:36.3894839+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB913"" accepted.
2024-01-10T00:05:36.3900116+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB913"" started.
2024-01-10T00:05:36.3956293+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB913"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:05:36.4001152+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB913"" disconnecting.
2024-01-10T00:05:36.4023336+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB913"" stopped.
2024-01-10T00:05:36.9409692+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB914"" accepted.
2024-01-10T00:05:36.9412303+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB914"" started.
2024-01-10T00:05:36.9413751+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB915"" accepted.
2024-01-10T00:05:36.9414490+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB915"" started.
2024-01-10T00:05:37.0323020+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:05:37.0352212+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:05:37.0516192+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:05:37.0522478+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:05:37.1326270+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB914"" completed keep alive response.
2024-01-10T00:05:37.1337842+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 104.0294ms
2024-01-10T00:05:37.3469283+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:05:37.3478409+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:05:37.3479282+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:05:37.4535111+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB914"" completed keep alive response.
2024-01-10T00:05:37.4538892+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 106.904ms
2024-01-10T00:05:49.7284671+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB916"" accepted.
2024-01-10T00:05:49.7286369+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB916"" started.
2024-01-10T00:05:49.7299584+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:05:49.7352106+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:05:49.7387493+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:05:49.7393398+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:05:49.7419216+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:05:49.7782293+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:05:49.7797588+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:05:49.7962435+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:05:49.7975035+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:05:49.7976180+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:05:49.7986410+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:05:49.7987252+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:05:49.7987989+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:05:49.7998407+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:05:49.9061426+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:05:49.9327016+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:05:49.9375206+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:05:49.9396802+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:05:49.9405973+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:05:49.9520077+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5J8HB916"", Request id ""0HN0H5J8HB916:00000001"": started reading request body.
2024-01-10T00:05:49.9522687+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5J8HB916"", Request id ""0HN0H5J8HB916:00000001"": done reading request body.
2024-01-10T00:05:49.9615106+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:05:49.9619772+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:05:49.9621188+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:05:49.9622254+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:05:49.9700305+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:05:49.9779186+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:05:49.9956536+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:05:51.0151575+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:05:51.0677759+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:05:51.2502026+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:05:51.2874843+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:05:51.2925803+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:05:51.2958135+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:51.4528770+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:51.4592688+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:05:51.4665972+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (3ms).
2024-01-10T00:05:51.4726363+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (13ms).
2024-01-10T00:05:51.4827807+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:05:51.5861616+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("105"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:05:51.6213376+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:51.6326481+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 38ms reading results.
2024-01-10T00:05:51.6389054+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:51.6451941+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (6ms).
2024-01-10T00:05:51.9209517+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:51.9475758+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:51.9768269+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:51.9972938+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:52.0012207+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:05:52.0054043+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:05:52.0137193+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:05:52.0138000+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:52.0156925+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:05:52.0882832+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:05:52.0927937+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:52.0931919+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:52.0953636+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:05:52.1020535+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:05:52.1053150+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:05:52.1053747+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:05:52.1067874+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (1ms).
2024-01-10T00:05:52.2409554+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p3='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET status = @p3
WHERE id = @p4;"
2024-01-10T00:05:52.2569626+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("149"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p3='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET status = @p3
WHERE id = @p4;"
2024-01-10T00:05:52.2592657+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:52.2593589+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 2ms reading results.
2024-01-10T00:05:52.2614217+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T00:05:52.2654657+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T00:05:52.2670166+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:52.2673510+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:05:52.2687201+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:05:52.2711547+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:52.2712341+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:05:52.2729160+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T00:05:52.2780063+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 2296.2554ms.
2024-01-10T00:05:52.2821147+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T00:05:52.2869895+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2484.0242ms
2024-01-10T00:05:52.2877401+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:05:52.2927298+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB916"" received FIN.
2024-01-10T00:05:52.2929053+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB916"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:05:52.2938282+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB916"" disconnecting.
2024-01-10T00:05:52.2955525+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:05:52.3009817+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:05:52.3038655+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (2ms).
2024-01-10T00:05:52.3050903+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 2575.0768ms
2024-01-10T00:05:52.3103942+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB916"" stopped.
2024-01-10T00:06:57.1918941+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB915"" received FIN.
2024-01-10T00:06:57.1924593+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB915"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:06:57.1927545+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB915"" disconnecting.
2024-01-10T00:06:57.1929056+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB915"" stopped.
2024-01-10T00:07:12.1120622+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:07:12.1133633+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:07:12.1203575+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB914"" disconnecting.
2024-01-10T00:07:12.1204692+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5J8HB914"" stopped.
2024-01-10T00:07:12.1205480+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5J8HB914"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:07:12.1295668+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:07:28.2738569+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:07:28.3458379+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:07:28.3511134+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:07:28.3549688+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:07:28.3603359+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:07:28.3660207+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:07:28.3672638+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:07:28.3680306+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:07:28.3681002+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:07:28.3722703+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:07:28.3726229+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:07:28.3927840+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:07:28.3928930+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:07:28.3929849+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:07:28.3930406+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:07:28.3930677+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:07:28.3931060+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:07:28.8052763+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5KA1ETQ2"" received FIN.
2024-01-10T00:07:28.8094625+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ2"" accepted.
2024-01-10T00:07:28.8102658+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ2"" started.
2024-01-10T00:07:28.8178406+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5KA1ETQ2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:07:28.8237654+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ2"" disconnecting.
2024-01-10T00:07:28.8268730+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ2"" stopped.
2024-01-10T00:07:29.3781776+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ3"" accepted.
2024-01-10T00:07:29.3784363+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ3"" started.
2024-01-10T00:07:29.3786712+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ4"" accepted.
2024-01-10T00:07:29.3787757+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ4"" started.
2024-01-10T00:07:29.4721932+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:07:29.4754284+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:07:29.4917072+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:07:29.4921069+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:07:29.5718328+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ3"" completed keep alive response.
2024-01-10T00:07:29.5729740+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 103.5894ms
2024-01-10T00:07:29.7934919+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:07:29.7942475+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:07:29.7943254+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:07:29.9017999+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ3"" completed keep alive response.
2024-01-10T00:07:29.9021484+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 108.5816ms
2024-01-10T00:07:33.7688255+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ5"" accepted.
2024-01-10T00:07:33.7689553+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ5"" started.
2024-01-10T00:07:33.7699843+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:07:33.7734600+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:07:33.7755949+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:07:33.7759540+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:07:33.7774548+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:07:33.8066184+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:07:33.8080883+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:07:33.8243316+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:07:33.8256411+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:07:33.8258067+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:07:33.8268124+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:07:33.8269055+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:07:33.8270018+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:07:33.8281804+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:07:33.9193206+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:07:33.9398911+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:07:33.9431727+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:07:33.9446470+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:07:33.9453194+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:07:33.9533318+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5KA1ETQ5"", Request id ""0HN0H5KA1ETQ5:00000001"": started reading request body.
2024-01-10T00:07:33.9534946+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5KA1ETQ5"", Request id ""0HN0H5KA1ETQ5:00000001"": done reading request body.
2024-01-10T00:07:33.9594733+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:07:33.9597124+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:07:33.9597817+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:07:33.9598622+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:07:33.9657628+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:07:33.9720972+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:07:33.9871038+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:07:34.9601014+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:07:35.0091652+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:07:35.1684690+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:07:35.2042268+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:07:35.2098702+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:07:35.2138789+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:35.3670504+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:35.3728254+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:07:35.3795393+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (3ms).
2024-01-10T00:07:35.3846684+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (12ms).
2024-01-10T00:07:35.3935168+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:07:35.4910550+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("98"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:07:35.5284514+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:35.5403586+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 40ms reading results.
2024-01-10T00:07:35.5467126+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:35.5534249+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (6ms).
2024-01-10T00:07:35.7474558+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:07:35.8592625+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:07:35.8776648+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:07:35.8964030+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:07:35.9009063+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:07:35.9049210+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:07:35.9097498+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordHash"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:07:35.9104150+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordSalt"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:07:35.9154353+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:07:35.9194962+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:07:35.9843003+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:07:35.9879843+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:35.9883750+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:35.9903908+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:07:35.9961060+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:07:36.0001362+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:07:36.0002823+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:07:36.0013067+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (1ms).
2024-01-10T00:07:36.1268674+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:07:36.1418938+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("140"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:07:36.1475916+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2024-01-10T00:07:36.1480763+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:36.1481589+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 6ms reading results.
2024-01-10T00:07:36.1551440+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:07:36.1565949+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:36.1568094+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:07:36.1696989+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2338.181ms
2024-01-10T00:07:36.1705883+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:07:36.2685108+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5KA1ETQ5"" received FIN.
2024-01-10T00:07:36.2687960+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5KA1ETQ5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:07:36.2698639+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ5"" disconnecting.
2024-01-10T00:07:36.2720689+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:07:36.2789042+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:07:36.2826181+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T00:07:36.2836917+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2513.6702ms
2024-01-10T00:07:36.2877116+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ5"" stopped.
2024-01-10T00:08:04.4533916+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:08:04.4545241+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:08:04.4609374+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ3"" disconnecting.
2024-01-10T00:08:04.4609520+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ4"" disconnecting.
2024-01-10T00:08:04.4610925+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ4"" stopped.
2024-01-10T00:08:04.4610922+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5KA1ETQ3"" stopped.
2024-01-10T00:08:04.4611794+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5KA1ETQ4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:08:04.4612718+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5KA1ETQ3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:08:04.4657781+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:10:11.2035899+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:10:11.2764951+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:10:11.2832008+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:10:11.2870913+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:10:11.2922588+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:10:11.2979924+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:10:11.2991824+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:10:11.2999355+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:10:11.3000286+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:10:11.3039982+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:10:11.3043819+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:10:11.3231196+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:10:11.3232245+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:10:11.3233561+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:10:11.3234118+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:10:11.3234424+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:10:11.3234750+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:10:11.7093369+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5LQJ17U8"" received FIN.
2024-01-10T00:10:11.7144679+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U8"" accepted.
2024-01-10T00:10:11.7152211+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U8"" started.
2024-01-10T00:10:11.7210687+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5LQJ17U8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:10:11.7257427+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U8"" disconnecting.
2024-01-10T00:10:11.7282567+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U8"" stopped.
2024-01-10T00:10:12.3026845+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U9"" accepted.
2024-01-10T00:10:12.3029367+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U9"" started.
2024-01-10T00:10:12.3031421+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UA"" accepted.
2024-01-10T00:10:12.3032701+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UA"" started.
2024-01-10T00:10:12.3905021+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:10:12.3946223+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:10:12.4124738+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:10:12.4130488+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:10:12.5010182+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U9"" completed keep alive response.
2024-01-10T00:10:12.5023428+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.853ms
2024-01-10T00:10:12.7234683+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:10:12.7244592+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:10:12.7245749+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:10:12.8330497+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U9"" completed keep alive response.
2024-01-10T00:10:12.8334862+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 109.9668ms
2024-01-10T00:10:16.4817362+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UB"" accepted.
2024-01-10T00:10:16.4818860+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UB"" started.
2024-01-10T00:10:16.4829627+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:10:16.4863427+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:10:16.4884927+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:10:16.4889346+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:10:16.4907432+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:10:16.5200687+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:10:16.5214189+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:10:16.5366141+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:10:16.5377617+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:10:16.5378471+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:10:16.5387777+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:10:16.5388636+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:10:16.5389442+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:10:16.5399963+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:10:16.6346283+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:10:16.6562576+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:10:16.6600431+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:10:16.6618077+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:10:16.6624545+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:10:16.6720816+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5LQJ17UB"", Request id ""0HN0H5LQJ17UB:00000001"": started reading request body.
2024-01-10T00:10:16.6722841+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5LQJ17UB"", Request id ""0HN0H5LQJ17UB:00000001"": done reading request body.
2024-01-10T00:10:16.6791667+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:10:16.6794604+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:10:16.6795376+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:10:16.6796213+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:10:16.6866398+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:10:16.6939496+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:10:16.7103393+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:10:17.7565765+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:10:17.8049044+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:10:17.9720241+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:10:18.0075476+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:10:18.0126527+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:10:18.0158577+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.1705512+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.1766653+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:10:18.1833997+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (3ms).
2024-01-10T00:10:18.1886833+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (12ms).
2024-01-10T00:10:18.1982676+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:10:18.2962904+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("100"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:10:18.3283587+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.3400743+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 35ms reading results.
2024-01-10T00:10:18.3461268+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.3520684+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T00:10:18.5295468+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:10:18.6427850+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:10:18.6650396+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:10:18.6834294+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:10:18.6870762+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:10:18.6904757+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:10:18.6947706+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordHash"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:10:18.6954905+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordSalt"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:10:18.7005227+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:10:18.7044234+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:10:18.7685974+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:10:18.7730042+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.7735949+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.7758227+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:10:18.7820622+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:10:18.7853920+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:10:18.7854628+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:10:18.7862886+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:10:18.9172768+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:10:18.9327636+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("146"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:10:18.9392232+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2024-01-10T00:10:18.9401987+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.9403298+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 7ms reading results.
2024-01-10T00:10:18.9487831+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:10:18.9502164+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:18.9504113+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:10:18.9643235+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2420.3998ms
2024-01-10T00:10:18.9653925+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:10:19.0662948+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5LQJ17UB"" received FIN.
2024-01-10T00:10:19.0665563+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5LQJ17UB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:10:19.0674722+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UB"" disconnecting.
2024-01-10T00:10:19.0699128+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:10:19.0766095+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:10:19.0797682+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T00:10:19.0813310+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2598.3195ms
2024-01-10T00:10:19.0854444+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UB"" stopped.
2024-01-10T00:10:24.2581545+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:10:24.2592028+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:10:24.2683052+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UA"" disconnecting.
2024-01-10T00:10:24.2683052+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U9"" disconnecting.
2024-01-10T00:10:24.2685586+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17UA"" stopped.
2024-01-10T00:10:24.2685892+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5LQJ17U9"" stopped.
2024-01-10T00:10:24.2687042+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5LQJ17U9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:10:24.2687053+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5LQJ17UA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:10:24.2737657+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:13:13.5588258+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:13:13.7453563+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:13:13.7908985+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:13:13.7981912+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:13:13.8060409+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:13:13.8153027+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:13:13.8181976+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:13:13.8202597+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:13:13.8205131+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:13:13.8272873+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:13:13.8280651+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:13:13.9879811+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:13:13.9881871+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:13:13.9885744+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:13:13.9886711+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:13:13.9887058+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:13:13.9887934+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:13:16.3095490+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5NHJGN14"" accepted.
2024-01-10T00:13:16.3109051+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5NHJGN14"" started.
2024-01-10T00:13:16.3473278+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:13:16.3508604+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:13:16.4105001+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:13:16.4133622+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:13:16.4140462+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:13:16.4320262+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:13:16.5656602+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:13:16.5670631+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:13:16.5853381+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:13:16.5891584+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:13:16.5894087+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:13:16.5904610+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:13:16.5905978+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:13:16.5907076+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:13:16.5925655+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:13:16.7853423+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:13:16.8112094+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:13:16.8284725+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:13:16.8309037+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:13:16.8322020+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:13:16.8527436+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5NHJGN14"", Request id ""0HN0H5NHJGN14:00000001"": started reading request body.
2024-01-10T00:13:16.8529704+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5NHJGN14"", Request id ""0HN0H5NHJGN14:00000001"": done reading request body.
2024-01-10T00:13:16.8602361+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:13:16.8605032+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:13:16.8605669+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:13:16.8606561+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:13:16.8719257+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:13:16.8795184+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:13:16.9220184+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:13:18.1600411+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:13:18.2221448+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:13:18.4171882+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:13:18.4602586+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:13:18.4673822+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (3ms).
2024-01-10T00:13:18.4714620+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:13:18.7078059+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:13:18.7160834+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:13:18.7254969+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (4ms).
2024-01-10T00:13:18.7324532+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (16ms).
2024-01-10T00:13:18.7431709+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:13:18.8840027+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("143"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:13:18.9259828+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:13:18.9384791+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 45ms reading results.
2024-01-10T00:13:18.9454755+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:13:18.9524860+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (7ms).
2024-01-10T00:13:19.1526109+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:15:35.1279418+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:15:35.3235862+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:15:35.3673848+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:15:35.3740813+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:15:35.3804297+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:15:35.3870148+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:15:35.3890012+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:15:35.3900062+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:15:35.3900893+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:15:35.3952203+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:15:35.3956821+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:15:35.5090655+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:15:35.5092677+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:15:35.5095620+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:15:35.5096390+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:15:35.5096780+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:15:35.5097549+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:15:36.1827657+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK0"" accepted.
2024-01-10T00:15:36.1838181+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK1"" accepted.
2024-01-10T00:15:36.1973560+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK1"" started.
2024-01-10T00:15:36.1973562+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK0"" started.
2024-01-10T00:15:36.2347111+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:15:36.2390934+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:15:36.2597370+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:15:36.2603011+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:15:36.3750270+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK0"" completed keep alive response.
2024-01-10T00:15:36.3769873+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 143.0385ms
2024-01-10T00:15:36.5923088+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:15:36.5931474+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:15:36.5933437+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:15:36.7353753+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK0"" completed keep alive response.
2024-01-10T00:15:36.7357266+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 143.3864ms
2024-01-10T00:15:39.7026595+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK2"" accepted.
2024-01-10T00:15:39.7230537+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5OR9EKK2"" started.
2024-01-10T00:15:39.7247181+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:15:39.7285494+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:15:39.7305859+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:15:39.7309953+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:15:39.7325396+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:15:39.8331358+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:15:39.8347377+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:15:39.8514249+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:15:39.8539759+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:15:39.8541064+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:15:39.8550491+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:15:39.8551348+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:15:39.8552187+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:15:39.8565569+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:15:40.0312589+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:15:40.0565540+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:15:40.0615264+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:15:40.0632888+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:15:40.0639337+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:15:40.0733505+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5OR9EKK2"", Request id ""0HN0H5OR9EKK2:00000001"": started reading request body.
2024-01-10T00:15:40.0735168+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5OR9EKK2"", Request id ""0HN0H5OR9EKK2:00000001"": done reading request body.
2024-01-10T00:15:40.0805578+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:15:40.0808026+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:15:40.0808797+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:15:40.0809539+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:15:40.0878368+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:15:40.0949637+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:15:40.1320844+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:15:41.3275829+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:15:41.3902077+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:15:41.5958204+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:15:41.6379912+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:15:41.6438368+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:15:41.6476634+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:15:41.8594963+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:15:41.8660769+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:15:41.8737417+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (3ms).
2024-01-10T00:15:41.8808493+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (14ms).
2024-01-10T00:15:41.8920135+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:15:42.0148999+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("126"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:15:42.0549104+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:15:42.0670420+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 42ms reading results.
2024-01-10T00:15:42.0739650+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:15:42.0809053+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (6ms).
2024-01-10T00:15:42.2776179+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:11.9789459+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:25:12.0518940+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:25:12.0576645+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:25:12.0617458+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:25:12.0675212+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:25:12.0732488+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:25:12.0745262+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:25:12.0752829+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:25:12.0753672+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:25:12.0794984+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:25:12.0798414+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:25:12.1003538+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:25:12.1006151+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:25:12.1007883+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:25:12.1008488+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:25:12.1008766+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:25:12.1009306+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:25:12.4790150+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECEV"" received FIN.
2024-01-10T00:25:12.4827441+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECEV"" accepted.
2024-01-10T00:25:12.4833498+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECEV"" started.
2024-01-10T00:25:12.4890862+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECEV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:25:12.4937542+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECEV"" disconnecting.
2024-01-10T00:25:12.4961228+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECEV"" stopped.
2024-01-10T00:25:12.9892883+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF0"" accepted.
2024-01-10T00:25:12.9896757+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF0"" started.
2024-01-10T00:25:12.9898980+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF1"" accepted.
2024-01-10T00:25:12.9900123+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF1"" started.
2024-01-10T00:25:13.0710421+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:25:13.0731931+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:25:13.0855964+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:25:13.0859683+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:25:13.1584589+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF0"" completed keep alive response.
2024-01-10T00:25:13.1597018+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 89.9185ms
2024-01-10T00:25:13.3799200+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:25:13.3809755+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:25:13.3811074+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:25:13.4817134+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF0"" completed keep alive response.
2024-01-10T00:25:13.4819838+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 102.1197ms
2024-01-10T00:25:16.5086177+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF2"" accepted.
2024-01-10T00:25:16.5087496+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF2"" started.
2024-01-10T00:25:16.5097747+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:25:16.5135388+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:25:16.5160540+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:25:16.5166138+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:25:16.5183247+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:25:16.5520046+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:25:16.5536342+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:25:16.5690493+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:25:16.5702483+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:25:16.5703497+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:25:16.5712138+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:25:16.5712813+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:25:16.5713721+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:25:16.5724083+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:25:16.6629270+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:25:16.6826768+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:25:16.6860284+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:25:16.6875162+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:25:16.6881138+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:25:16.6961756+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5U71ECF2"", Request id ""0HN0H5U71ECF2:00000001"": started reading request body.
2024-01-10T00:25:16.6963016+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5U71ECF2"", Request id ""0HN0H5U71ECF2:00000001"": done reading request body.
2024-01-10T00:25:16.7024640+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:25:16.7026972+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:25:16.7027700+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:25:16.7028183+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:25:16.7093318+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:25:16.7156177+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:25:16.7311470+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:25:17.7587465+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:25:17.8129441+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:25:17.9959973+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:25:18.0342860+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:25:18.0402542+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:25:18.0436863+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:18.1907038+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:18.1962328+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:25:18.2028184+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T00:25:18.2083307+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (12ms).
2024-01-10T00:25:18.2181019+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:25:18.3270702+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("111"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:25:18.3609490+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:18.3722333+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 36ms reading results.
2024-01-10T00:25:18.3779523+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:18.3835214+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T00:25:18.5522758+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:18.6548243+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:18.6881816+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:18.6923550+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:25:18.6959137+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:25:18.7006039+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblBase"."Id"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:25:18.7140344+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2137.2732ms
2024-01-10T00:25:18.7152047+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:25:18.8389876+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECF2"" received FIN.
2024-01-10T00:25:18.8392995+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECF2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:25:18.8403208+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF2"" disconnecting.
2024-01-10T00:25:18.8453796+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:25:18.8552910+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:18.8588262+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T00:25:18.8600226+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2350.2226ms
2024-01-10T00:25:18.8653848+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF2"" stopped.
2024-01-10T00:25:46.2691334+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF3"" accepted.
2024-01-10T00:25:46.2693524+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF3"" started.
2024-01-10T00:25:46.2697040+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:25:46.2698703+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:25:46.2699600+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:25:46.2700450+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:25:46.2701928+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:25:46.2714392+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:25:46.2715198+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:25:46.2760666+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:25:46.2762706+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:25:46.2763547+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:25:46.2768983+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:25:46.2769722+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:25:46.2770395+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:25:46.2771509+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:25:46.2875246+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:25:46.2880434+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:25:46.2883204+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:25:46.2884449+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:25:46.2893808+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5U71ECF3"", Request id ""0HN0H5U71ECF3:00000001"": started reading request body.
2024-01-10T00:25:46.2894866+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5U71ECF3"", Request id ""0HN0H5U71ECF3:00000001"": done reading request body.
2024-01-10T00:25:46.2905757+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:25:46.2906534+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:25:46.2907007+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:25:46.2907554+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:25:46.2922794+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:25:46.2926257+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:25:46.3108648+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:25:46.3153050+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:25:46.3154491+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T00:25:46.3155079+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.3158838+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.3160910+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:25:46.3161470+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:25:46.3162093+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:25:46.3163550+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:25:46.3209774+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:25:46.3214437+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.3215757+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T00:25:46.3217696+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.3218881+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:25:46.3885554+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:46.3958521+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:46.3962133+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:46.3963893+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:25:46.3966048+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:25:46.3966735+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:25:46.3982368+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordHash"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:25:46.3991631+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordSalt"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:25:46.4047154+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:25:46.4099130+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:25:46.4807491+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:25:46.4838062+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.4839358+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.4865766+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:25:46.4922222+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:25:46.4966368+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:25:46.4968124+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:25:46.4978647+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (1ms).
2024-01-10T00:25:46.6271599+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:25:46.6370132+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("139"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:25:46.6434050+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2024-01-10T00:25:46.6436220+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.6436879+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 6ms reading results.
2024-01-10T00:25:46.6510651+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:25:46.6522609+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.6524659+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:25:46.6563599+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 379.2197ms
2024-01-10T00:25:46.6565122+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:25:46.6568269+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:25:46.6569342+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:25:46.6569926+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:25:46.6570754+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 387.3843ms
2024-01-10T00:25:46.6571717+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF3"" disconnecting.
2024-01-10T00:25:46.6572256+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF3"" stopped.
2024-01-10T00:25:46.6572764+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECF3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:26:26.7771239+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:26:26.7783492+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:26:26.7817726+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF1"" disconnecting.
2024-01-10T00:26:26.7817727+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF0"" disconnecting.
2024-01-10T00:26:26.7818450+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF1"" stopped.
2024-01-10T00:26:26.7818634+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5U71ECF0"" stopped.
2024-01-10T00:26:26.7819541+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECF0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:26:26.7820110+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5U71ECF1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:26:26.7849686+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:27:33.8578570+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:27:33.9293062+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:27:33.9348143+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:27:33.9387702+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:27:33.9441914+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:27:33.9497105+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:27:33.9509516+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:27:33.9517086+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:27:33.9518060+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:27:33.9560651+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:27:33.9563932+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:27:33.9760793+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:27:33.9761841+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:27:33.9763226+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:27:33.9763993+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:27:33.9765322+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:27:33.9765702+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:27:34.3730788+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5VHAL0RH"" received FIN.
2024-01-10T00:27:34.3762681+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RH"" accepted.
2024-01-10T00:27:34.3768256+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RH"" started.
2024-01-10T00:27:34.3824785+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5VHAL0RH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:27:34.3866648+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RH"" disconnecting.
2024-01-10T00:27:34.3887163+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RH"" stopped.
2024-01-10T00:27:34.8863562+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RI"" accepted.
2024-01-10T00:27:34.8865505+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RI"" started.
2024-01-10T00:27:34.8866384+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RJ"" accepted.
2024-01-10T00:27:34.8867002+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RJ"" started.
2024-01-10T00:27:34.9503771+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:27:34.9525648+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:27:34.9648098+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:27:34.9652258+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:27:35.0386064+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RI"" completed keep alive response.
2024-01-10T00:27:35.0398029+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 90.3316ms
2024-01-10T00:27:35.2396731+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:27:35.2405094+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:27:35.2405798+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:27:35.3497555+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RI"" completed keep alive response.
2024-01-10T00:27:35.3500066+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 110.3377ms
2024-01-10T00:27:38.4517702+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RK"" accepted.
2024-01-10T00:27:38.4519635+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RK"" started.
2024-01-10T00:27:38.4535152+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:27:38.4599416+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:27:38.4646893+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:27:38.4662058+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:27:38.4699974+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:27:38.5063702+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:27:38.5079411+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:27:38.5248063+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:27:38.5259824+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:27:38.5261140+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:27:38.5272432+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:27:38.5273446+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:27:38.5274930+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:27:38.5289145+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:27:38.6268965+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:27:38.6477613+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:27:38.6511082+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:27:38.6525907+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:27:38.6532000+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:27:38.6614977+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5VHAL0RK"", Request id ""0HN0H5VHAL0RK:00000001"": started reading request body.
2024-01-10T00:27:38.6617056+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H5VHAL0RK"", Request id ""0HN0H5VHAL0RK:00000001"": done reading request body.
2024-01-10T00:27:38.6686013+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:27:38.6689299+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:27:38.6690353+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:27:38.6691046+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:27:38.6756473+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:27:38.6830867+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:27:38.6994904+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:27:39.6843986+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:27:39.7340291+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:27:39.8974752+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:27:39.9326038+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:27:39.9377354+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:27:39.9410015+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.0865925+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.0923494+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:27:40.0987852+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T00:27:40.1038944+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (11ms).
2024-01-10T00:27:40.1128861+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:27:40.2059505+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("95"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:27:40.2394082+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.2496879+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 35ms reading results.
2024-01-10T00:27:40.2551949+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.2610272+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T00:27:40.4267733+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:27:40.5356272+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:27:40.5630607+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:27:40.5671472+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:27:40.5706213+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:27:40.5766613+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordHash"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:27:40.5767942+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:27:40.5776141+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordSalt"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:27:40.5827108+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:27:40.5865999+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:27:40.6514600+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:27:40.6550264+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.6554229+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.6574109+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:27:40.6632201+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:27:40.6665084+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:27:40.6665937+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:27:40.6674705+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:27:40.7893726+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5
WHERE id = @p6;"
2024-01-10T00:27:40.8041692+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("136"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5
WHERE id = @p6;"
2024-01-10T00:27:40.8099348+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2024-01-10T00:27:40.8105954+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.8107369+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 6ms reading results.
2024-01-10T00:27:40.8194255+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:27:40.8216618+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.8219736+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:27:40.8405743+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2306.8452ms
2024-01-10T00:27:40.8420223+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:27:40.9532981+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5VHAL0RK"" received FIN.
2024-01-10T00:27:40.9535881+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5VHAL0RK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:27:40.9545777+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RK"" disconnecting.
2024-01-10T00:27:40.9582452+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:27:40.9682865+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:27:40.9713215+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T00:27:40.9723590+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2518.841ms
2024-01-10T00:27:40.9769561+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RK"" stopped.
2024-01-10T00:27:49.2904845+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:27:49.2915146+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:27:49.2979996+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RJ"" disconnecting.
2024-01-10T00:27:49.2979996+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RI"" disconnecting.
2024-01-10T00:27:49.2981281+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RJ"" stopped.
2024-01-10T00:27:49.2981631+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H5VHAL0RI"" stopped.
2024-01-10T00:27:49.2982352+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5VHAL0RJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:27:49.2982373+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H5VHAL0RI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:27:49.3024043+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:33:20.4678135+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:33:20.5445142+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:33:20.5503246+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:33:20.5548390+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:33:20.5605792+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:33:20.5660256+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:33:20.5679130+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:33:20.5687233+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:33:20.5687927+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:33:20.5727230+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:33:20.5730487+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:33:20.5942812+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:33:20.5943817+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:33:20.5945369+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:33:20.5946056+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:33:20.5946297+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:33:20.5946617+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:33:20.9461787+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H62OJQNG0"" received FIN.
2024-01-10T00:33:20.9498010+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG0"" accepted.
2024-01-10T00:33:20.9504208+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG0"" started.
2024-01-10T00:33:20.9559348+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H62OJQNG0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:33:20.9601914+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG0"" disconnecting.
2024-01-10T00:33:20.9623862+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG0"" stopped.
2024-01-10T00:33:21.4669122+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG1"" accepted.
2024-01-10T00:33:21.4671791+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG1"" started.
2024-01-10T00:33:21.4673158+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG2"" accepted.
2024-01-10T00:33:21.4674045+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG2"" started.
2024-01-10T00:33:21.5696448+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:33:21.5732663+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:33:21.5883510+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:33:21.5889315+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:33:21.6696631+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG1"" completed keep alive response.
2024-01-10T00:33:21.6709943+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 103.3404ms
2024-01-10T00:33:21.8705002+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:33:21.8713495+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:33:21.8714634+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:33:21.9878894+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG1"" completed keep alive response.
2024-01-10T00:33:21.9882563+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 117.6891ms
2024-01-10T00:33:26.5011628+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG3"" accepted.
2024-01-10T00:33:26.5013779+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG3"" started.
2024-01-10T00:33:26.5024627+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:33:26.5062033+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:33:26.5091400+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:33:26.5098725+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:33:26.5120329+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:33:26.5453533+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:33:26.5467012+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:33:26.5625805+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:33:26.5637019+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:33:26.5638391+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:33:26.5647991+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:33:26.5648855+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:33:26.5649593+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:33:26.5660188+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:33:26.6561582+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:33:26.6759334+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:33:26.6791996+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:33:26.6806959+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:33:26.6813141+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:33:26.6894760+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H62OJQNG3"", Request id ""0HN0H62OJQNG3:00000001"": started reading request body.
2024-01-10T00:33:26.6896125+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H62OJQNG3"", Request id ""0HN0H62OJQNG3:00000001"": done reading request body.
2024-01-10T00:33:26.6957140+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:33:26.6959619+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:33:26.6960235+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:33:26.6960935+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:33:26.7022312+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:33:26.7086571+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:33:26.7253406+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:33:27.7640362+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:33:27.8127907+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:33:27.9773736+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:33:28.0120364+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:33:28.0172011+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:33:28.0204653+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.1751400+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.1816521+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:33:28.1888828+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T00:33:28.1952670+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (13ms).
2024-01-10T00:33:28.2055880+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:33:28.3089906+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("105"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:33:28.3448525+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.3562130+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 38ms reading results.
2024-01-10T00:33:28.3625017+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.3689655+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (6ms).
2024-01-10T00:33:28.5609410+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:33:28.6839507+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:33:28.7132216+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:33:28.7179036+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:33:28.7214581+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:33:28.7277584+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordHash"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:33:28.7279017+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:33:28.7286599+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."PasswordSalt"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:33:28.7339105+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:33:28.7380752+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:33:28.8052668+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:33:28.8090672+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.8097446+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.8126729+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:33:28.8203472+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:33:28.8248287+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:33:28.8250236+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:33:28.8262594+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (1ms).
2024-01-10T00:33:28.9573929+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5
WHERE id = @p6;"
2024-01-10T00:33:28.9731945+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("146"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5
WHERE id = @p6;"
2024-01-10T00:33:28.9786627+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2024-01-10T00:33:28.9792164+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.9792962+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 5ms reading results.
2024-01-10T00:33:28.9865949+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:33:28.9881172+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:28.9883702+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:33:29.0022765+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2432.361ms
2024-01-10T00:33:29.0032391+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:33:29.1157657+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H62OJQNG3"" received FIN.
2024-01-10T00:33:29.1160072+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H62OJQNG3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:33:29.1170143+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG3"" disconnecting.
2024-01-10T00:33:29.1193869+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:33:29.1269928+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:33:29.1302703+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T00:33:29.1315674+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 500 null "application/problem+json" 2629.076ms
2024-01-10T00:33:29.1365343+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG3"" stopped.
2024-01-10T00:35:32.6092744+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG1"" disconnecting.
2024-01-10T00:35:32.6096067+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG1"" stopped.
2024-01-10T00:35:32.6096456+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG2"" disconnecting.
2024-01-10T00:35:32.6097229+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H62OJQNG2"" stopped.
2024-01-10T00:35:32.6099625+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H62OJQNG1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:35:32.6101317+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H62OJQNG2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:36:44.5414110+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:36:44.5422103+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:36:44.5480031+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T00:37:18.2681154+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T00:37:18.3377048+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T00:37:18.3429996+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T00:37:18.3468599+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T00:37:18.3518851+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T00:37:18.3574392+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T00:37:18.3586639+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T00:37:18.3593546+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T00:37:18.3594222+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T00:37:18.3634126+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T00:37:18.3637565+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T00:37:18.3824242+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T00:37:18.3825326+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T00:37:18.3826287+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T00:37:18.3827200+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T00:37:18.3827563+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T00:37:18.3827887+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T00:37:18.7992084+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H64VG5ND7"" received FIN.
2024-01-10T00:37:18.8027374+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND7"" accepted.
2024-01-10T00:37:18.8032744+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND7"" started.
2024-01-10T00:37:18.8102494+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H64VG5ND7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:37:18.8145396+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND7"" disconnecting.
2024-01-10T00:37:18.8166473+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND7"" stopped.
2024-01-10T00:37:19.3386963+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND8"" accepted.
2024-01-10T00:37:19.3389357+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND8"" started.
2024-01-10T00:37:19.3390346+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND9"" accepted.
2024-01-10T00:37:19.3391000+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND9"" started.
2024-01-10T00:37:19.4415343+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T00:37:19.4453278+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T00:37:19.4636253+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T00:37:19.4641261+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:37:19.5547058+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND8"" completed keep alive response.
2024-01-10T00:37:19.5562603+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.7054ms
2024-01-10T00:37:19.7981498+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T00:37:19.7991675+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T00:37:19.7992475+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T00:37:19.9017998+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND8"" completed keep alive response.
2024-01-10T00:37:19.9023114+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.0666ms
2024-01-10T00:37:23.0493856+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5NDA"" accepted.
2024-01-10T00:37:23.0495338+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5NDA"" started.
2024-01-10T00:37:23.0505422+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T00:37:23.0546790+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:37:23.0579633+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T00:37:23.0586814+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:37:23.0610122+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T00:37:23.0930792+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T00:37:23.0944514+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:37:23.1095849+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T00:37:23.1106670+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T00:37:23.1107696+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T00:37:23.1117078+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T00:37:23.1117800+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T00:37:23.1118608+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T00:37:23.1129617+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:37:23.2082678+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T00:37:23.2294777+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T00:37:23.2340040+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:37:23.2356505+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T00:37:23.2363420+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T00:37:23.2461493+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H64VG5NDA"", Request id ""0HN0H64VG5NDA:00000001"": started reading request body.
2024-01-10T00:37:23.2464151+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0H64VG5NDA"", Request id ""0HN0H64VG5NDA:00000001"": done reading request body.
2024-01-10T00:37:23.2530702+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T00:37:23.2533994+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:37:23.2534918+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:37:23.2535683+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T00:37:23.2626401+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T00:37:23.2717057+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T00:37:23.2913643+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T00:37:24.3526806+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T00:37:24.4054941+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T00:37:24.5752648+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T00:37:24.6125294+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T00:37:24.6177000+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T00:37:24.6209712+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:24.7648078+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:24.7708574+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:37:24.7775894+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T00:37:24.7829948+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (12ms).
2024-01-10T00:37:24.7917200+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:37:24.8874840+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("97"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T00:37:24.9200066+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:24.9308690+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 35ms reading results.
2024-01-10T00:37:24.9364699+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:24.9420420+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T00:37:25.1880001+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:37:25.2040495+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:37:25.2235005+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:37:25.2448900+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:37:25.2485392+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T00:37:25.2520549+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T00:37:25.2605983+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T00:37:25.2645777+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T00:37:25.3332209+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T00:37:25.3371747+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:25.3376123+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:25.3399269+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T00:37:25.3460674+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T00:37:25.3495601+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T00:37:25.3496243+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:37:25.3504168+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T00:37:25.4769021+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:37:25.4916537+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("141"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T00:37:25.4939130+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:25.4940087+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 2ms reading results.
2024-01-10T00:37:25.4962811+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T00:37:25.5008628+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T00:37:25.5024774+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:25.5028693+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T00:37:25.5043184+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T00:37:25.5094568+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:37:25.5103812+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T00:37:25.5121896+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T00:37:25.5176307+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 2241.8346ms.
2024-01-10T00:37:25.5222194+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T00:37:25.5278484+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2411.1516ms
2024-01-10T00:37:25.5287215+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T00:37:25.5348134+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H64VG5NDA"" received FIN.
2024-01-10T00:37:25.5350063+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H64VG5NDA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:37:25.5359460+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5NDA"" disconnecting.
2024-01-10T00:37:25.5378947+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T00:37:25.5437537+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T00:37:25.5462400+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (2ms).
2024-01-10T00:37:25.5470980+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 2496.5254ms
2024-01-10T00:37:25.5510877+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5NDA"" stopped.
2024-01-10T00:39:30.3998006+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND8"" disconnecting.
2024-01-10T00:39:30.4000623+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND9"" disconnecting.
2024-01-10T00:39:30.4000980+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND8"" stopped.
2024-01-10T00:39:30.4001311+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0H64VG5ND9"" stopped.
2024-01-10T00:39:30.4004902+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H64VG5ND8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:39:30.4006711+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0H64VG5ND9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T00:41:09.1536157+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T00:41:09.1545963+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T00:41:09.1622247+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T07:28:14.0487709+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T07:28:14.1647635+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T07:28:14.1715371+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T07:28:14.1782378+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T07:28:14.1872378+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T07:28:14.1963277+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T07:28:14.1981623+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T07:28:14.1991683+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T07:28:14.1992827+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T07:28:14.2047260+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T07:28:14.2052820+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T07:28:14.2370685+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T07:28:14.2372170+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T07:28:14.2373918+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T07:28:14.2374960+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T07:28:14.2375320+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T07:28:14.2375755+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T07:28:14.4157693+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0P"" received FIN.
2024-01-10T07:28:14.4212232+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0P"" accepted.
2024-01-10T07:28:14.4220227+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0P"" started.
2024-01-10T07:28:14.4301016+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:28:14.4356266+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0P"" disconnecting.
2024-01-10T07:28:14.4389494+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0P"" stopped.
2024-01-10T07:28:15.1283947+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0Q"" accepted.
2024-01-10T07:28:15.1286445+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0Q"" started.
2024-01-10T07:28:15.1288285+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0R"" accepted.
2024-01-10T07:28:15.1289178+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0R"" started.
2024-01-10T07:28:15.2320171+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T07:28:15.2355649+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T07:28:15.2507463+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T07:28:15.2512667+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T07:28:15.3628057+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0Q"" completed keep alive response.
2024-01-10T07:28:15.3645622+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 133.9774ms
2024-01-10T07:28:15.5977039+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T07:28:15.5986726+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T07:28:15.5987818+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T07:28:15.7123336+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0Q"" completed keep alive response.
2024-01-10T07:28:15.7128053+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 115.0437ms
2024-01-10T07:28:22.4306048+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0S"" accepted.
2024-01-10T07:28:22.4309202+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0S"" started.
2024-01-10T07:28:22.4326971+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T07:28:22.4378403+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:28:22.4409892+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:28:22.4416100+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:28:22.4439522+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T07:28:22.4816641+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T07:28:22.4834021+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:28:22.5001014+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T07:28:22.5013130+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T07:28:22.5013973+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T07:28:22.5027391+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T07:28:22.5028623+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T07:28:22.5029338+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T07:28:22.5042106+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:28:22.6040583+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T07:28:22.6262882+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:28:22.6301496+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:28:22.6321780+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T07:28:22.6330253+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T07:28:22.6424699+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDAJEEN0S"", Request id ""0HN0HDAJEEN0S:00000001"": started reading request body.
2024-01-10T07:28:22.6426520+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDAJEEN0S"", Request id ""0HN0HDAJEEN0S:00000001"": done reading request body.
2024-01-10T07:28:22.6499764+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T07:28:22.6503095+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:28:22.6504106+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:28:22.6504673+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:28:22.6571016+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:28:22.6638798+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T07:28:22.6814463+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T07:28:23.7190148+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T07:28:23.7677122+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T07:28:23.9273283+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T07:28:23.9643984+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T07:28:23.9699316+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T07:28:23.9733548+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.1262858+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.1317962+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:28:24.1382138+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T07:28:24.1431632+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (11ms).
2024-01-10T07:28:24.1517101+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:28:24.2422407+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("92"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:28:24.2737838+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.2840206+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 33ms reading results.
2024-01-10T07:28:24.2895697+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.2950511+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T07:28:24.5392303+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:28:24.5558936+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:28:24.5758997+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:28:24.5975398+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:28:24.6012375+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T07:28:24.6047153+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T07:28:24.6133391+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T07:28:24.6173704+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T07:28:24.6882592+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T07:28:24.6937777+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.6942338+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.6964557+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T07:28:24.7026245+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T07:28:24.7060336+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:28:24.7061039+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:28:24.7068946+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:28:24.8293059+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:28:24.8441623+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("137"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:28:24.8467030+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.8468634+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 2ms reading results.
2024-01-10T07:28:24.8494908+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T07:28:24.8539935+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T07:28:24.8557103+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.8560864+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T07:28:24.8575758+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T07:28:24.8627508+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:28:24.8638399+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:28:24.8660478+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T07:28:24.8713013+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 2203.6342ms.
2024-01-10T07:28:24.8754025+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T07:28:24.8803232+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2373.1712ms
2024-01-10T07:28:24.8810864+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:28:24.8860161+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0S"" received FIN.
2024-01-10T07:28:24.8861702+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:28:24.8871326+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0S"" disconnecting.
2024-01-10T07:28:24.8888797+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T07:28:24.8944311+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:28:24.8970307+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (2ms).
2024-01-10T07:28:24.8979741+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 2465.2468ms
2024-01-10T07:28:24.9020259+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0S"" stopped.
2024-01-10T07:29:29.6317552+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0R"" received FIN.
2024-01-10T07:29:29.6320713+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:29:29.6322344+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0R"" disconnecting.
2024-01-10T07:29:29.6323374+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0R"" stopped.
2024-01-10T07:29:55.1158007+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T07:29:55.1167017+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T07:29:55.1232321+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0Q"" disconnecting.
2024-01-10T07:29:55.1233042+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDAJEEN0Q"" stopped.
2024-01-10T07:29:55.1233778+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDAJEEN0Q"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:29:55.1270168+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T07:29:58.8752511+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T07:29:58.9513804+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T07:29:58.9571097+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T07:29:58.9612808+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T07:29:58.9670771+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T07:29:58.9733911+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T07:29:58.9748795+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T07:29:58.9757085+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T07:29:58.9757959+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T07:29:58.9805642+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T07:29:58.9810365+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T07:29:59.0017303+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T07:29:59.0018610+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T07:29:59.0020143+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T07:29:59.0020848+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T07:29:59.0021133+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T07:29:59.0021487+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T07:29:59.3675850+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB0"" received FIN.
2024-01-10T07:29:59.3717549+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB0"" accepted.
2024-01-10T07:29:59.3724203+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB0"" started.
2024-01-10T07:29:59.3783651+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:29:59.3831188+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB0"" disconnecting.
2024-01-10T07:29:59.3858088+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB0"" stopped.
2024-01-10T07:30:00.0804588+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB1"" accepted.
2024-01-10T07:30:00.0807328+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB1"" started.
2024-01-10T07:30:00.0809509+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB2"" accepted.
2024-01-10T07:30:00.0810397+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB2"" started.
2024-01-10T07:30:00.1903497+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T07:30:00.1936802+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T07:30:00.2113171+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T07:30:00.2117437+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T07:30:00.3061435+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB1"" completed keep alive response.
2024-01-10T07:30:00.3076563+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 118.661ms
2024-01-10T07:30:00.5237350+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T07:30:00.5249936+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T07:30:00.5251268+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T07:30:00.6527316+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB1"" completed keep alive response.
2024-01-10T07:30:00.6530637+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 129.4507ms
2024-01-10T07:30:04.3541375+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB3"" accepted.
2024-01-10T07:30:04.3542857+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB3"" started.
2024-01-10T07:30:04.3552789+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T07:30:04.3602805+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:30:04.3640690+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:30:04.3646869+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:30:04.3672895+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T07:30:04.4008179+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T07:30:04.4022047+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:30:04.4168733+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T07:30:04.4181957+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T07:30:04.4183154+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T07:30:04.4192805+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T07:30:04.4193784+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T07:30:04.4194526+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T07:30:04.4204725+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:30:04.5088284+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T07:30:04.5281559+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:30:04.5313561+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:30:04.5327686+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T07:30:04.5333402+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T07:30:04.5411294+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDBINBGB3"", Request id ""0HN0HDBINBGB3:00000001"": started reading request body.
2024-01-10T07:30:04.5412565+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDBINBGB3"", Request id ""0HN0HDBINBGB3:00000001"": done reading request body.
2024-01-10T07:30:04.5472183+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T07:30:04.5474425+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:30:04.5475410+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:30:04.5475886+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:30:04.5533913+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:30:04.5596402+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T07:30:04.5748170+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T07:30:05.5687243+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T07:30:05.6182240+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T07:30:05.7821779+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T07:30:05.8198788+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T07:30:05.8260299+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T07:30:05.8300471+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:05.9776536+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:05.9833457+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:30:05.9898463+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T07:30:05.9949841+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (11ms).
2024-01-10T07:30:06.0037172+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:30:06.0961706+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("94"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:30:06.1275623+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.1376621+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 33ms reading results.
2024-01-10T07:30:06.1431466+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.1488709+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T07:30:06.3955373+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:30:06.4130178+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:30:06.4332557+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:30:06.4568587+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:30:06.4610076+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T07:30:06.4647132+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T07:30:06.4745968+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T07:30:06.4791706+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T07:30:06.5500319+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T07:30:06.5539789+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.5543996+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.5566378+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T07:30:06.5628983+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T07:30:06.5671646+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:30:06.5672621+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:30:06.5681512+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (1ms).
2024-01-10T07:30:06.6995696+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:30:06.7156727+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("147"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:30:06.7184838+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.7185995+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 2ms reading results.
2024-01-10T07:30:06.7210106+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T07:30:06.7256682+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T07:30:06.7273631+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.7277431+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T07:30:06.7291402+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T07:30:06.7347730+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:30:06.7359098+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:30:06.7379256+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T07:30:06.7435076+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 2179.7671ms.
2024-01-10T07:30:06.7483417+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T07:30:06.7546224+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2329.8342ms
2024-01-10T07:30:06.7556977+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:30:06.7616913+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB3"" received FIN.
2024-01-10T07:30:06.7619499+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:30:06.7630306+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB3"" disconnecting.
2024-01-10T07:30:06.7652852+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T07:30:06.7717318+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:30:06.7753430+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T07:30:06.7764080+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 2421.1046ms
2024-01-10T07:30:06.7799279+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB3"" stopped.
2024-01-10T07:31:13.8758537+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB2"" received FIN.
2024-01-10T07:31:13.8761866+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:31:13.8763477+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB2"" disconnecting.
2024-01-10T07:31:13.8765028+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB2"" stopped.
2024-01-10T07:31:16.8973343+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB4"" accepted.
2024-01-10T07:31:16.8977364+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB4"" started.
2024-01-10T07:31:16.8983571+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T07:31:16.9017630+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:31:16.9020122+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:31:16.9022900+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:31:16.9025541+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T07:31:16.9042337+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T07:31:16.9043337+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:31:16.9045716+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T07:31:16.9046679+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T07:31:16.9047460+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T07:31:16.9051259+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T07:31:16.9051810+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T07:31:16.9052619+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T07:31:16.9053454+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:31:16.9163972+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:31:16.9171516+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:31:16.9175753+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T07:31:16.9178189+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T07:31:16.9181428+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDBINBGB4"", Request id ""0HN0HDBINBGB4:00000001"": started reading request body.
2024-01-10T07:31:16.9182953+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDBINBGB4"", Request id ""0HN0HDBINBGB4:00000001"": done reading request body.
2024-01-10T07:31:16.9185820+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T07:31:16.9186713+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:31:16.9187414+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:31:16.9188413+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:31:16.9200082+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:31:16.9203972+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T07:31:16.9398886+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T07:31:16.9448213+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T07:31:16.9449802+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T07:31:16.9450504+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:16.9452224+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:16.9453990+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:31:16.9454685+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:31:16.9455446+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:31:16.9456605+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:31:16.9467624+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:31:16.9470150+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:16.9471087+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T07:31:16.9472232+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:16.9472932+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T07:31:17.0093787+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:31:17.0098033+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:31:17.0101560+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:31:17.0103229+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:31:17.0104270+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T07:31:17.0104823+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T07:31:17.0105535+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T07:31:17.0106377+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T07:31:17.0113450+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T07:31:17.0114456+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:17.0115049+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:17.0116482+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T07:31:17.0117244+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T07:31:17.0117809+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:31:17.0118234+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:31:17.0118997+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:31:17.0148881+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:31:17.0161002+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("4"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:31:17.0165587+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:17.0166299+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T07:31:17.0167918+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T07:31:17.0180373+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T07:31:17.0181463+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:17.0181997+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T07:31:17.0182958+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T07:31:17.0184666+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:31:17.0185495+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:31:17.0186143+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T07:31:17.0187408+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 98.2202ms.
2024-01-10T07:31:17.0190755+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T07:31:17.0191825+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 113.8566ms
2024-01-10T07:31:17.0192423+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:31:17.0194553+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T07:31:17.0195041+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:31:17.0195402+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T07:31:17.0196150+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 121.2948ms
2024-01-10T07:31:17.0196898+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB4"" disconnecting.
2024-01-10T07:31:17.0197259+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB4"" stopped.
2024-01-10T07:31:17.0197994+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:31:45.4174722+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T07:31:45.4184740+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T07:31:45.4225354+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB1"" disconnecting.
2024-01-10T07:31:45.4226001+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDBINBGB1"" stopped.
2024-01-10T07:31:45.4226674+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDBINBGB1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:31:45.4258921+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T07:33:54.2393877+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T07:33:54.3160236+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T07:33:54.3215448+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T07:33:54.3256949+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T07:33:54.3310712+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T07:33:54.3369275+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T07:33:54.3382405+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T07:33:54.3390668+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T07:33:54.3391819+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T07:33:54.3432201+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T07:33:54.3435820+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T07:33:54.3635191+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T07:33:54.3636315+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T07:33:54.3638054+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T07:33:54.3638686+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T07:33:54.3639027+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T07:33:54.3639388+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T07:33:54.7383767+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDDOS0VNP"" received FIN.
2024-01-10T07:33:54.7421021+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNP"" accepted.
2024-01-10T07:33:54.7426787+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNP"" started.
2024-01-10T07:33:54.7483084+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDDOS0VNP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:33:54.7526331+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNP"" disconnecting.
2024-01-10T07:33:54.7550514+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNP"" stopped.
2024-01-10T07:33:55.2523673+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNQ"" accepted.
2024-01-10T07:33:55.2526088+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNQ"" started.
2024-01-10T07:33:55.2528067+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNR"" accepted.
2024-01-10T07:33:55.2528954+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNR"" started.
2024-01-10T07:33:55.3686118+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T07:33:55.3726482+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T07:33:55.3922427+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T07:33:55.3928942+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T07:33:55.4723350+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNQ"" completed keep alive response.
2024-01-10T07:33:55.4733707+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 107.0164ms
2024-01-10T07:33:55.7007208+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T07:33:55.7015650+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T07:33:55.7016353+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T07:33:55.8063042+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNQ"" completed keep alive response.
2024-01-10T07:33:55.8067111+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 105.9347ms
2024-01-10T07:34:05.0571570+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNS"" accepted.
2024-01-10T07:34:05.0573130+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNS"" started.
2024-01-10T07:34:05.0583728+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T07:34:05.0623275+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:34:05.0652516+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T07:34:05.0660686+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:34:05.0681679+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T07:34:05.1017095+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T07:34:05.1031888+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:34:05.1187133+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T07:34:05.1198986+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T07:34:05.1199837+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T07:34:05.1209080+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T07:34:05.1209738+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T07:34:05.1210463+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T07:34:05.1221385+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:34:05.2199265+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T07:34:05.2417284+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T07:34:05.2452192+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:34:05.2468589+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T07:34:05.2474597+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T07:34:05.2559453+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDDOS0VNS"", Request id ""0HN0HDDOS0VNS:00000001"": started reading request body.
2024-01-10T07:34:05.2561077+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HDDOS0VNS"", Request id ""0HN0HDDOS0VNS:00000001"": done reading request body.
2024-01-10T07:34:05.2629418+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T07:34:05.2632473+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:34:05.2633692+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:34:05.2634336+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T07:34:05.2704290+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T07:34:05.2787052+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T07:34:05.2971229+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T07:34:06.3645644+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T07:34:06.4198960+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T07:34:06.5789976+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T07:34:06.6160919+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T07:34:06.6218692+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T07:34:06.6257135+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:06.7719485+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:06.7776201+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:34:06.7839334+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T07:34:06.7889650+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (11ms).
2024-01-10T07:34:06.7975728+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:34:06.8884518+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("92"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T07:34:06.9199398+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:06.9302595+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 34ms reading results.
2024-01-10T07:34:06.9359210+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:06.9413451+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (5ms).
2024-01-10T07:34:07.1831728+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:34:07.1981459+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:34:07.2171572+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:34:07.2179550+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:34:07.2215954+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T07:34:07.2252910+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T07:34:07.2395996+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T07:34:07.2478012+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblResetPassword"."IsUsed"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T07:34:07.2578906+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T07:34:07.3395379+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T07:34:07.3436883+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:07.3443012+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:07.3464934+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T07:34:07.3541059+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T07:34:07.3594604+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T07:34:07.3596100+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T07:34:07.3608817+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (1ms).
2024-01-10T07:34:07.4916960+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:34:07.5062378+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("145"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T07:34:07.5089035+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:07.5090011+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 2ms reading results.
2024-01-10T07:34:07.5114289+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T07:34:07.5158753+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T07:34:07.5175673+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:07.5179221+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T07:34:07.5194733+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T07:34:07.5246897+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:34:07.5256915+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T07:34:07.5273865+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T07:34:07.5326313+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 2249.9424ms.
2024-01-10T07:34:07.5368736+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T07:34:07.5418226+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 2416.5966ms
2024-01-10T07:34:07.5426313+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T07:34:07.5477092+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDDOS0VNS"" received FIN.
2024-01-10T07:34:07.5478651+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDDOS0VNS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:34:07.5486611+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNS"" disconnecting.
2024-01-10T07:34:07.5509461+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T07:34:07.5563739+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T07:34:07.5588312+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (2ms).
2024-01-10T07:34:07.5597205+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 2501.3244ms
2024-01-10T07:34:07.5637206+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNS"" stopped.
2024-01-10T07:34:44.9461046+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T07:34:44.9477139+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T07:34:44.9587553+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNR"" disconnecting.
2024-01-10T07:34:44.9587561+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNQ"" disconnecting.
2024-01-10T07:34:44.9589031+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNR"" stopped.
2024-01-10T07:34:44.9589557+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HDDOS0VNQ"" stopped.
2024-01-10T07:34:44.9590549+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDDOS0VNR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:34:44.9590562+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HDDOS0VNQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T07:34:44.9631982+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T12:04:58.0112228+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T12:04:58.1107444+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T12:04:58.1182639+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T12:04:58.1233402+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T12:04:58.1305746+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T12:04:58.1387225+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T12:04:58.1408264+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T12:04:58.1418959+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T12:04:58.1420441+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T12:04:58.1488203+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T12:04:58.1493690+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T12:04:58.1750669+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T12:04:58.1752528+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T12:04:58.1754201+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T12:04:58.1754978+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T12:04:58.1755316+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T12:04:58.1755967+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T12:04:58.2857393+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4K"" received FIN.
2024-01-10T12:04:58.2908163+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4K"" accepted.
2024-01-10T12:04:58.2915202+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4K"" started.
2024-01-10T12:04:58.2986575+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4K"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:04:58.3034958+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4K"" disconnecting.
2024-01-10T12:04:58.3062808+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4K"" stopped.
2024-01-10T12:04:59.0063121+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4L"" accepted.
2024-01-10T12:04:59.0066143+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4L"" started.
2024-01-10T12:04:59.0067977+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4M"" accepted.
2024-01-10T12:04:59.0069075+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4M"" started.
2024-01-10T12:04:59.0965519+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T12:04:59.1026606+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T12:04:59.1328305+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T12:04:59.1338753+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T12:04:59.2825057+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4L"" completed keep alive response.
2024-01-10T12:04:59.2847168+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 192.4074ms
2024-01-10T12:04:59.5675547+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T12:04:59.5685955+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T12:04:59.5687444+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T12:04:59.7000673+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4L"" completed keep alive response.
2024-01-10T12:04:59.7003795+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 132.8418ms
2024-01-10T12:05:42.7419393+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4N"" accepted.
2024-01-10T12:05:42.7421244+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4N"" started.
2024-01-10T12:05:42.7426495+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:05:42.7473188+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:05:42.7494742+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:05:42.7499383+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:05:42.7519630+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:05:42.7950089+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:05:42.7967429+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:05:42.8136998+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:05:42.8147987+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:05:42.8148910+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:05:42.8163282+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:05:42.8164504+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:05:42.8165957+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:05:42.8184824+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:05:42.9317700+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T12:05:42.9555864+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:05:42.9632953+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:05:42.9650461+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:05:42.9655135+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:05:42.9655681+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:05:42.9656226+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:05:42.9664377+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:05:42.9677619+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:05:42.9679222+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:05:42.9680038+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:05:42.9680526+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:05:42.9680828+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:05:42.9704099+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:05:42.9755317+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:05:42.9901129+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Naming:UseNamingConvention'".
2024-01-10T12:05:44.0291897+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:05:44.0860797+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Compiling query expression: "
"'"DbSet<TblResetPassword>()
    .Where(reset => reset.Id == __id_0 && reset.ResetKey == __resetKey_1)
    .Select(reset => new ResetPasswordToValidateDto(
        reset.Validity, 
        reset.TimestampSend.GetValueOrDefault(), 
        reset.IsUsed, 
        reset.UserId
    ))
    .SingleOrDefault()"'
2024-01-10T12:05:44.2484463+08:00 [DBG] (Microsoft.EntityFrameworkCore.Query) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ResetPasswordToValidateDto>(
    asyncEnumerable: new SingleQueryingEnumerable<ResetPasswordToValidateDto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(2) t.validity, t.timestamp_send, t.is_used, t.user_id
            FROM tbl_reset_password AS t
            WHERE (t.id == @__id_0) && (t.reset_key == @__resetKey_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ResetPasswordToValidateDto>, 
        IMS.Infrastructure.DbContext.IMS.ImsContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
2024-01-10T12:05:44.2823791+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:05:44.2876366+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (2ms).
2024-01-10T12:05:44.2908344+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:44.4506917+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:44.4570194+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:05:44.4640753+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (2ms).
2024-01-10T12:05:44.4701536+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (13ms).
2024-01-10T12:05:44.4794286+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:05:44.6003117+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("122"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:05:44.6380121+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:44.6506593+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 41ms reading results.
2024-01-10T12:05:44.6584287+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:44.6660391+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (7ms).
2024-01-10T12:05:44.6786399+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 1697.6399ms.
2024-01-10T12:05:44.6842512+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T12:05:44.6909776+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 1869.1103ms
2024-01-10T12:05:44.6926018+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:05:44.7003116+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4N"" received FIN.
2024-01-10T12:05:44.7004770+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4N"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:05:44.7014186+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4N"" disconnecting.
2024-01-10T12:05:44.7035210+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:05:44.7106987+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:44.7146837+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (3ms).
2024-01-10T12:05:44.7158229+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 204 null null 1973.1661ms
2024-01-10T12:05:44.7200981+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4N"" stopped.
2024-01-10T12:05:54.9716932+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4O"" accepted.
2024-01-10T12:05:54.9721547+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4O"" started.
2024-01-10T12:05:54.9732042+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T12:05:54.9746155+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T12:05:54.9747271+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T12:05:54.9748402+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T12:05:54.9749872+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:05:54.9762398+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:05:54.9763386+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T12:05:54.9802506+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:05:54.9803214+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:05:54.9803616+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:05:54.9806518+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:05:54.9806912+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:05:54.9807469+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:05:54.9808051+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:05:54.9920404+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:05:54.9929596+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T12:05:54.9936806+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T12:05:54.9945510+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T12:05:55.0065936+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HI57P9O4O"", Request id ""0HN0HI57P9O4O:00000001"": started reading request body.
2024-01-10T12:05:55.0068200+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HI57P9O4O"", Request id ""0HN0HI57P9O4O:00000001"": done reading request body.
2024-01-10T12:05:55.0133594+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T12:05:55.0137905+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T12:05:55.0138496+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T12:05:55.0138879+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T12:05:55.0176072+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T12:05:55.0179790+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:05:55.0371264+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:05:55.0405309+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:05:55.0406470+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:05:55.0407079+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.0410455+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.0413474+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:05:55.0414271+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:05:55.0415385+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:05:55.0417225+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:05:55.0458741+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:05:55.0461483+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.0462188+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:05:55.0463335+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.0463883+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:05:55.2369080+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:05:55.2474204+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:05:55.2625117+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:05:55.2631684+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:05:55.2659136+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T12:05:55.2684560+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T12:05:55.2790704+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T12:05:55.2851263+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblResetPassword"."IsUsed"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T12:05:55.2914475+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T12:05:55.3418043+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T12:05:55.3443422+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.3444183+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.3460497+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T12:05:55.3501635+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T12:05:55.3524713+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:05:55.3525297+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:05:55.3530687+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:05:55.4498623+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T12:05:55.4587903+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("105"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T12:05:55.4622844+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.4623662+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 3ms reading results.
2024-01-10T12:05:55.4649501+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T12:05:55.4694295+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T12:05:55.4708449+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.4712002+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:05:55.4725449+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T12:05:55.4771635+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:05:55.4780519+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:05:55.4797910+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T12:05:55.4801507+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 462.0826ms.
2024-01-10T12:05:55.4804326+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T12:05:55.4805183+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 499.7183ms
2024-01-10T12:05:55.4805689+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T12:05:55.4807305+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:05:55.4807824+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:05:55.4808407+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:05:55.4809285+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 507.7343ms
2024-01-10T12:05:55.4810102+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4O"" disconnecting.
2024-01-10T12:05:55.4810605+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4O"" stopped.
2024-01-10T12:05:55.4810993+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4O"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:06:24.6689207+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4M"" received FIN.
2024-01-10T12:06:24.6707604+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4M"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:06:24.6708748+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4M"" disconnecting.
2024-01-10T12:06:24.6709362+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4M"" stopped.
2024-01-10T12:07:10.1857981+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4L"" disconnecting.
2024-01-10T12:07:10.1859734+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4L"" stopped.
2024-01-10T12:07:10.1863739+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4L"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:11:02.4005152+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4P"" accepted.
2024-01-10T12:11:02.4007577+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4P"" started.
2024-01-10T12:11:02.4010857+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:11:02.4011755+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:11:02.4012207+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:11:02.4012672+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:11:02.4014118+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:11:02.4038578+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:11:02.4039568+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:11:02.4041236+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:11:02.4042856+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:11:02.4043265+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:11:02.4049145+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:11:02.4049646+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:11:02.4050264+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:11:02.4050863+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:11:02.4087172+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:11:02.4096277+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:11:02.4098168+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:11:02.4098908+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:11:02.4099341+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:11:02.4099658+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:11:02.4100294+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:11:02.4100780+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:11:02.4101268+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:11:02.4102073+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:11:02.4102432+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:11:02.4102828+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:11:02.4106114+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:11:02.4108949+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:11:02.4719945+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:11:02.4735230+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:11:02.4736432+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:11:02.4737044+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:11:02.5635332+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:11:02.5638122+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:11:02.5638955+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:11:02.5639720+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:11:02.5640743+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:11:02.5672302+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:11:02.5675217+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:11:02.5676270+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:11:02.5677516+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:11:02.5678238+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:11:02.5695253+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 164.4571ms
2024-01-10T12:11:02.5696772+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:11:02.6791336+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:11:02.6792345+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:11:02.6792794+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:11:02.6793480+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 278.2718ms
2024-01-10T12:11:02.6794051+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4P"" disconnecting.
2024-01-10T12:11:02.6794431+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4P"" stopped.
2024-01-10T12:11:02.6794937+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:12:08.7190889+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4Q"" accepted.
2024-01-10T12:12:08.7192785+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4Q"" started.
2024-01-10T12:12:08.7199524+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:12:08.7200838+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:12:08.7201444+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:12:08.7201962+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:12:08.7203794+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:12:08.7206882+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:12:08.7207783+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:12:08.7209266+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:12:08.7210146+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:12:08.7210557+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:12:08.7214567+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:12:08.7215462+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:12:08.7216090+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:12:08.7216893+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:12:08.7223466+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:12:08.7226209+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:12:08.7227881+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:12:08.7228675+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:12:08.7229016+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:12:08.7229414+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:12:08.7229994+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:12:08.7230945+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:12:08.7231504+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:12:08.7232083+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:12:08.7232393+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:12:08.7232887+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:12:08.7233654+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:12:08.7235596+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:12:08.7243749+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:12:08.7251146+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:12:08.7251951+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:12:08.7252694+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:12:08.7253441+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:12:08.7255828+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:12:08.7256470+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:12:08.7257299+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:12:08.7258284+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:12:08.7283111+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:12:08.7288748+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:12:08.7289833+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:12:08.7291277+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:12:08.7291876+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:12:08.7298170+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 8.1557ms
2024-01-10T12:12:08.7300088+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:12:08.7307993+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:12:08.7308603+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:12:08.7309078+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:12:08.7309962+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 11.0393ms
2024-01-10T12:12:08.7313485+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4Q"" disconnecting.
2024-01-10T12:12:08.7313952+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4Q"" stopped.
2024-01-10T12:12:08.7314674+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4Q"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:13:11.6044692+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4R"" accepted.
2024-01-10T12:13:11.6045767+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4R"" started.
2024-01-10T12:13:11.6048418+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:13:11.6049366+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:13:11.6049924+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:13:11.6050244+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:13:11.6051427+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:13:11.6053806+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:13:11.6054324+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:13:11.6055278+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:13:11.6056628+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:13:11.6056926+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:13:11.6060107+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:13:11.6060493+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:13:11.6060750+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:13:11.6061232+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:13:11.6064421+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:13:11.6066011+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:13:11.6067326+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:13:11.6068940+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:13:11.6069160+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:13:11.6069420+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:13:11.6069830+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:13:11.6070115+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:13:11.6070823+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:13:11.6071570+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:13:11.6071881+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:13:11.6072061+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:13:11.6072568+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:13:11.6074024+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:13:11.6081182+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:13:11.6085042+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:13:11.6085525+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:13:11.6085921+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:11.6086582+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:11.6089850+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:13:11.6090601+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:13:11.6091410+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:13:11.6092489+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:13:11.6103451+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:13:11.6106508+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:11.6107471+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:13:11.6108720+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:11.6109399+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:13:11.6115262+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 5.4097ms
2024-01-10T12:13:11.6117622+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:13:11.6121422+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:13:11.6122111+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:11.6122704+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:13:11.6123648+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 7.493ms
2024-01-10T12:13:11.6124454+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4R"" disconnecting.
2024-01-10T12:13:11.6125116+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4R"" stopped.
2024-01-10T12:13:11.6125701+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:13:36.5766749+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4S"" accepted.
2024-01-10T12:13:36.5768042+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4S"" started.
2024-01-10T12:13:36.5772133+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:13:36.5773249+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:13:36.5773681+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:13:36.5774072+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:13:36.5775432+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:13:36.5778085+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:13:36.5780306+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:13:36.5781946+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:13:36.5782625+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:13:36.5782963+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:13:36.5786982+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:13:36.5787367+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:13:36.5788001+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:13:36.5788681+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:13:36.5795500+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:13:36.5797386+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:13:36.5798727+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:13:36.5799397+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:13:36.5799705+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:13:36.5800003+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:13:36.5800618+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:13:36.5800948+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:13:36.5801506+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:13:36.5801884+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:13:36.5802500+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:13:36.5802790+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:13:36.5803610+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:13:36.5806323+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:13:36.5816295+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:13:36.5822241+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:13:36.5823030+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:13:36.5823804+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:36.5825010+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:36.5831274+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:13:36.5832319+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:13:36.5833604+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:13:36.5834902+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:13:36.5851597+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:13:36.5855392+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:36.5856209+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:13:36.5857607+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:36.5858333+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:13:36.5865979+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 7.7355ms
2024-01-10T12:13:36.5869527+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:13:36.5873842+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:13:36.5874716+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:13:36.5875284+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:13:36.5877777+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 10.4162ms
2024-01-10T12:13:36.5878790+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4S"" disconnecting.
2024-01-10T12:13:36.5879283+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4S"" stopped.
2024-01-10T12:13:36.5880027+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:14:39.9917856+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4T"" accepted.
2024-01-10T12:14:39.9919982+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4T"" started.
2024-01-10T12:14:39.9927905+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:14:39.9929867+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:14:39.9930916+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:14:39.9931554+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:14:39.9933442+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:14:39.9937179+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:14:39.9938360+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:14:39.9940384+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:14:39.9941406+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:14:39.9941944+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:14:39.9949066+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:14:39.9949760+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:14:39.9953749+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:14:39.9954897+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:14:39.9963279+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:14:39.9967460+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:14:39.9969585+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:14:39.9970731+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:14:39.9971267+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:14:39.9971725+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:14:39.9973434+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:14:39.9974020+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:14:39.9975076+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:14:39.9975733+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:14:39.9976361+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:14:39.9976787+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:14:39.9978044+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:14:39.9982088+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:14:40.0000301+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:14:40.0010494+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:14:40.0011733+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:14:40.0013090+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:14:40.0014524+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:14:40.0019164+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:14:40.0020202+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:14:40.0021877+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:14:40.0023911+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:14:40.0046638+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:14:40.0053696+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:14:40.0056476+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:14:40.0059551+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:14:40.0061278+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:14:40.0077164+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 12.2524ms
2024-01-10T12:14:40.0079863+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:14:40.0087161+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:14:40.0088676+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:14:40.0089689+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:14:40.0091561+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 16.3222ms
2024-01-10T12:14:40.0093080+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4T"" disconnecting.
2024-01-10T12:14:40.0093931+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4T"" stopped.
2024-01-10T12:14:40.0095007+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4T"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:15:35.8053150+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4U"" accepted.
2024-01-10T12:15:35.8055853+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4U"" started.
2024-01-10T12:15:35.8062322+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:15:35.8067770+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:15:35.8069805+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:15:35.8072034+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:15:35.8077232+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:15:35.8083026+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:15:35.8085440+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:15:35.8087857+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:15:35.8089389+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:15:35.8089976+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:15:35.8101053+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:15:35.8102589+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:15:35.8103225+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:15:35.8104539+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:15:35.8111037+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:15:35.8114924+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:15:35.8116981+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:15:35.8118427+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:15:35.8119319+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:15:35.8120280+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:15:35.8121437+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:15:35.8125954+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:15:35.8127127+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:15:35.8128342+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:15:35.8129188+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:15:35.8129937+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:15:35.8131858+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:15:35.8138499+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:15:35.8162497+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:15:35.8175640+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:15:35.8177299+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:15:35.8178370+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:35.8179411+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:35.8183218+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:15:35.8184155+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:15:35.8188096+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:15:35.8189994+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:15:35.8217657+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:15:35.8223569+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:35.8225729+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:15:35.8229450+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:35.8231458+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:15:35.8250049+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 14.5484ms
2024-01-10T12:15:35.8262885+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:15:35.8271601+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:15:35.8273129+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:35.8274089+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:15:35.8276119+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 21.3475ms
2024-01-10T12:15:35.8278111+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4U"" disconnecting.
2024-01-10T12:15:35.8279183+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4U"" stopped.
2024-01-10T12:15:35.8280680+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4U"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:15:53.6349880+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4V"" accepted.
2024-01-10T12:15:53.6352602+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4V"" started.
2024-01-10T12:15:53.6360339+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:15:53.6362290+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:15:53.6366118+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:15:53.6375625+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:15:53.6378855+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:15:53.6385035+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:15:53.6387080+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:15:53.6390008+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:15:53.6391893+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:15:53.6392959+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:15:53.6403652+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:15:53.6404966+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:15:53.6406357+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:15:53.6408188+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:15:53.6416027+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:15:53.6420976+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:15:53.6424529+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:15:53.6426060+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:15:53.6427180+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:15:53.6427935+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:15:53.6429120+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:15:53.6431444+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:15:53.6433487+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:15:53.6437948+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:15:53.6439627+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:15:53.6441138+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:15:53.6446549+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:15:53.6452942+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:15:53.6468848+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:15:53.6480247+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:15:53.6481997+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:15:53.6483462+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:53.6484542+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:53.6488996+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:15:53.6490351+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:15:53.6492007+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:15:53.6496354+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:15:53.6530407+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:15:53.6538100+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:53.6540026+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:15:53.6542443+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:53.6544404+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:15:53.6562016+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 15.4334ms
2024-01-10T12:15:53.6565903+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:15:53.6571764+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:15:53.6573199+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:15:53.6573934+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:15:53.6576046+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 21.5425ms
2024-01-10T12:15:53.6577330+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4V"" disconnecting.
2024-01-10T12:15:53.6577918+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O4V"" stopped.
2024-01-10T12:15:53.6579313+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O4V"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:19:30.9729132+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O50"" accepted.
2024-01-10T12:19:30.9730244+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O50"" started.
2024-01-10T12:19:30.9732830+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:19:30.9733820+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:19:30.9734221+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:19:30.9734515+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:19:30.9735537+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:19:30.9737386+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:19:30.9737848+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:19:30.9738665+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:19:30.9739109+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:19:30.9739344+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:19:30.9742801+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:19:30.9743343+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:19:30.9743710+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:19:30.9745481+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:19:30.9748180+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:19:30.9749410+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:19:30.9750423+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:19:30.9751040+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:19:30.9751390+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:19:30.9751706+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:19:30.9752226+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:19:30.9752539+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:19:30.9754008+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:19:30.9754317+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:19:30.9754723+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:19:30.9754911+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:19:30.9755409+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:19:30.9756839+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:19:30.9763613+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:19:30.9767514+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:19:30.9768016+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:19:30.9768469+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:19:31.0236151+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:19:31.0240657+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:19:31.0241291+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:19:31.0241944+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:19:31.0243715+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:19:31.0262325+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:19:31.0264171+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:19:31.0264831+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:19:31.0265899+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:19:31.0266423+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:19:31.0271065+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 52.6899ms
2024-01-10T12:19:31.0272027+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:19:31.0274309+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:19:31.0274633+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:19:31.0275045+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:19:31.0275467+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 54.2637ms
2024-01-10T12:19:31.0275951+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O50"" disconnecting.
2024-01-10T12:19:31.0276584+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O50"" stopped.
2024-01-10T12:19:31.0276929+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O50"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:20:03.9173047+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O51"" accepted.
2024-01-10T12:20:03.9174081+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O51"" started.
2024-01-10T12:20:03.9176724+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:20:03.9177609+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:20:03.9177965+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:20:03.9178245+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:03.9179306+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:20:03.9181226+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:20:03.9181713+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:03.9182567+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:20:03.9183004+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:20:03.9183232+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:20:03.9186582+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:20:03.9186980+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:20:03.9187383+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:20:03.9187894+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:20:03.9191968+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:20:03.9193243+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:20:03.9193962+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:20:03.9194392+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:03.9194613+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:03.9195037+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:20:03.9195395+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:03.9195631+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:20:03.9196053+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:20:03.9196302+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:03.9196716+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:03.9196906+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:20:03.9197408+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:03.9198779+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:20:03.9205352+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:20:03.9209116+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:20:03.9209595+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:20:03.9210016+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:03.9210559+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:03.9212076+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:20:03.9212597+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:20:03.9213161+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:20:03.9213738+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:20:03.9223200+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:20:03.9225368+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:03.9226099+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:20:03.9227126+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:03.9227676+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:20:03.9233150+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 4.5351ms
2024-01-10T12:20:03.9234462+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:03.9236826+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:20:03.9237274+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:03.9237584+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:20:03.9238254+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 6.1498ms
2024-01-10T12:20:03.9238856+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O51"" disconnecting.
2024-01-10T12:20:03.9239230+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O51"" stopped.
2024-01-10T12:20:03.9239691+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O51"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:20:14.8479579+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O52"" accepted.
2024-01-10T12:20:14.8481231+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O52"" started.
2024-01-10T12:20:14.8484865+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:20:14.8486018+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:20:14.8486522+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:20:14.8486845+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:14.8487952+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:20:14.8490407+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:20:14.8490822+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:14.8491823+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:20:14.8492321+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:20:14.8492683+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:20:14.8496012+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:20:14.8496536+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:20:14.8496880+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:20:14.8497494+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:20:14.8500758+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:20:14.8501978+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:20:14.8504120+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:20:14.8504570+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:14.8504957+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:14.8505256+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:20:14.8505974+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:14.8506315+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:20:14.8506874+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:20:14.8507316+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:14.8507682+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:14.8507970+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:20:14.8508573+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:14.8509892+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:20:14.8517320+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:20:14.8522005+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:20:14.8522680+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:20:14.8523125+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:14.8523989+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:14.8525623+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:20:14.8526483+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:20:14.8527604+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:20:14.8528794+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:20:14.8541447+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:20:14.8543274+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:14.8544026+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:20:14.8545379+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:14.8546028+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:20:14.8550391+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 5.2926ms
2024-01-10T12:20:14.8551509+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:14.8555783+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:20:14.8556608+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:14.8556972+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:20:14.8557700+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 7.2655ms
2024-01-10T12:20:14.8558347+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O52"" disconnecting.
2024-01-10T12:20:14.8558683+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O52"" stopped.
2024-01-10T12:20:14.8559296+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O52"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:20:20.6462406+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O53"" accepted.
2024-01-10T12:20:20.6463337+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O53"" started.
2024-01-10T12:20:20.6466245+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:20:20.6467097+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:20:20.6468542+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:20:20.6468859+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:20.6470808+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:20:20.6472470+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:20:20.6472882+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:20.6473666+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:20:20.6474176+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:20:20.6474368+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:20:20.6477293+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:20:20.6477624+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:20:20.6477846+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:20:20.6478270+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:20:20.6481421+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:20:20.6482458+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:20:20.6483183+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:20:20.6483563+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:20.6483750+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:20.6484091+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:20:20.6484401+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:20:20.6484664+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:20:20.6484904+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:20:20.6485105+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:20.6486195+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:20.6486352+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:20:20.6486814+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:20:20.6487678+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:20:20.6492776+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:20:20.6496444+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:20:20.6496884+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:20:20.6497232+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:20.6497685+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:20.6498878+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:20:20.6499233+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:20:20.6499781+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:20:20.6500443+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:20:20.6508694+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:20:20.6510286+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:20.6510749+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:20:20.6511412+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:20.6519672+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:20:20.6523184+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 4.5037ms
2024-01-10T12:20:20.6524152+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:20:20.6526115+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:20:20.6526539+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:20:20.6526781+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:20:20.6527666+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 6.1172ms
2024-01-10T12:20:20.6528315+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O53"" disconnecting.
2024-01-10T12:20:20.6528638+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O53"" stopped.
2024-01-10T12:20:20.6529300+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O53"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:21:01.3209612+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O54"" accepted.
2024-01-10T12:21:01.3210651+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O54"" started.
2024-01-10T12:21:01.3213386+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:21:01.3214210+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:01.3214559+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:01.3214819+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:01.3215755+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:21:01.3217651+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:21:01.3218402+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:01.3219399+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:21:01.3220090+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:21:01.3220449+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:21:01.3225549+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:21:01.3226281+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:21:01.3226665+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:21:01.3227325+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:01.3230498+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:01.3231929+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:01.3233075+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:21:01.3235336+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:01.3235598+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:01.3235853+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:01.3236210+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:01.3236735+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:01.3237284+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:21:01.3237522+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:01.3237796+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:01.3237965+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:01.3238429+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:01.3240331+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:21:01.3245371+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:21:01.3248279+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:21:01.3248742+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:21:01.3249933+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:01.3250435+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:01.3251479+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:01.3251823+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:01.3252333+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:01.3252774+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:01.3261291+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:01.3263218+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:01.3263835+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:21:01.3264756+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:01.3265299+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:01.3271158+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 4.4011ms
2024-01-10T12:21:01.3272395+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:01.3274528+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:21:01.3275015+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:01.3275310+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:01.3275962+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 6.2366ms
2024-01-10T12:21:01.3276928+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O54"" disconnecting.
2024-01-10T12:21:01.3277163+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O54"" stopped.
2024-01-10T12:21:01.3277580+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O54"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:21:04.7840946+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O55"" accepted.
2024-01-10T12:21:04.7842378+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O55"" started.
2024-01-10T12:21:04.7845682+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:21:04.7847176+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:04.7847713+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:04.7852513+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:04.7853870+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:21:04.7857376+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:21:04.7858113+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:04.7859512+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:21:04.7860248+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:21:04.7860576+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:21:04.7866732+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:21:04.7867083+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:21:04.7867540+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:21:04.7868180+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:04.7871889+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:04.7873183+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:04.7874174+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:21:04.7874647+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:04.7875025+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:04.7875374+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:04.7875965+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:04.7876306+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:04.7877148+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:21:04.7877525+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:04.7878062+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:04.7878467+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:04.7879198+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:04.7881005+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:21:04.7886652+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:21:04.7891567+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:21:04.7892216+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:21:04.7892561+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:04.7893080+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:04.7894596+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:04.7895121+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:04.7895546+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:04.7896724+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:04.7906514+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:04.7910437+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:04.7911433+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:21:04.7912335+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:04.7912863+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:04.7917378+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 4.9452ms
2024-01-10T12:21:04.7918221+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:04.7920347+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:21:04.7920656+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:04.7921019+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:04.7921478+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 405 null "application/problem+json" 7.6111ms
2024-01-10T12:21:04.7922197+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O55"" disconnecting.
2024-01-10T12:21:04.7922431+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O55"" stopped.
2024-01-10T12:21:04.7922901+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O55"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:21:23.4513492+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O56"" accepted.
2024-01-10T12:21:23.4514586+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O56"" started.
2024-01-10T12:21:23.4516747+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:21:23.4517756+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:23.4519858+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:23.4521225+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:23.4522139+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:21:23.4524518+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:21:23.4524933+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:23.4526007+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:21:23.4526413+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:21:23.4526846+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:21:23.4529903+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:21:23.4530301+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:21:23.4530638+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:21:23.4531074+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:23.4533769+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:23.4535078+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:23.4535733+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:21:23.4536313+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:23.4536522+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:23.4537748+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:23.4538044+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:23.4538344+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:23.4538643+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:21:23.4538944+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:23.4539149+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:23.4539321+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:23.4540022+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:23.4541521+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:21:23.4550892+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:21:23.4554960+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:21:23.4555560+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:21:23.4557111+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:23.4557773+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:23.4559046+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:23.4559861+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:23.4560657+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:23.4561273+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:23.4569604+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:23.4572397+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:23.4573125+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:21:23.4574038+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:23.4574494+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:23.4575451+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 3.3354ms.
2024-01-10T12:21:23.4576988+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T12:21:23.4577512+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 4.6527ms
2024-01-10T12:21:23.4577868+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:23.4579331+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:21:23.4579670+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:23.4579905+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:23.4580707+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 204 null null 6.3894ms
2024-01-10T12:21:23.4581170+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O56"" disconnecting.
2024-01-10T12:21:23.4581459+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O56"" stopped.
2024-01-10T12:21:23.4581855+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O56"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:21:45.4441193+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O57"" accepted.
2024-01-10T12:21:45.4442652+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O57"" started.
2024-01-10T12:21:45.4444888+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:21:45.4445697+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:45.4446364+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:45.4446676+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:45.4447903+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:21:45.4451547+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:21:45.4452982+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:45.4453919+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:21:45.4454481+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:21:45.4454745+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:21:45.4458243+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:21:45.4458599+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:21:45.4458939+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:21:45.4459357+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:45.4461996+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:45.4463245+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:45.4464127+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:21:45.4464523+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:45.4464942+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:45.4465168+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:45.4465549+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:45.4465875+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:45.4466186+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:21:45.4466578+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:45.4466779+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:45.4467005+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:45.4467442+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:45.4469445+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:21:45.4474759+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:21:45.4478428+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:21:45.4478935+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:21:45.4479589+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:45.4480036+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:45.4481539+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:45.4482014+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:45.4482475+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:45.4482997+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:45.4492399+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:45.4513422+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:45.4514855+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 1ms reading results.
2024-01-10T12:21:45.4516411+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:45.4517091+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:45.4518174+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 4.8265ms.
2024-01-10T12:21:45.4519740+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T12:21:45.4520297+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 6.1012ms
2024-01-10T12:21:45.4520704+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:45.4521747+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:21:45.4522054+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:45.4522738+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:45.4523317+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 204 null null 7.8355ms
2024-01-10T12:21:45.4524134+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O57"" disconnecting.
2024-01-10T12:21:45.4524430+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O57"" stopped.
2024-01-10T12:21:45.4524912+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O57"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:21:49.7840139+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O58"" accepted.
2024-01-10T12:21:49.7840989+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O58"" started.
2024-01-10T12:21:49.7843593+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - null null
2024-01-10T12:21:49.7844606+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:49.7845043+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"' with route pattern '"api/public/resetpassword/validate"' is valid for the request path '"/api/public/resetpassword/validate"'
2024-01-10T12:21:49.7845488+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:49.7846333+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:21:49.7848989+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:21:49.7849399+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:49.7850335+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPasswordValidate\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPasswordValidate(System.Guid, System.String)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:21:49.7850883+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:21:49.7851365+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:21:49.7855816+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:21:49.7856248+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:21:49.7856700+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:21:49.7857218+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:49.7862672+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:49.7864254+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:49.7866554+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetId"' of type '"System.Guid"' using the name '"resetId"' in request data ...
2024-01-10T12:21:49.7867293+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:49.7867805+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:49.7868151+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetId"' of type '"System.Guid"' ...
2024-01-10T12:21:49.7868771+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetId"' of type '"System.Guid"'.
2024-01-10T12:21:49.7869190+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:49.7869825+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Attempting to bind parameter '"resetKey"' of type '"System.String"' using the name '"resetKey"' in request data ...
2024-01-10T12:21:49.7870361+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:49.7870651+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:49.7871118+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"resetKey"' of type '"System.String"' ...
2024-01-10T12:21:49.7871840+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"resetKey"' of type '"System.String"'.
2024-01-10T12:21:49.7873940+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:21:49.7883294+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:21:49.7886796+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:21:49.7887461+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:21:49.7887952+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:49.7888678+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:49.7890584+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:49.7891540+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:49.7892120+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:49.7892713+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:49.7904082+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:49.7906132+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:49.7906893+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:21:49.7908110+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:49.7908840+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:49.7909970+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 3.5543ms.
2024-01-10T12:21:49.7911585+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T12:21:49.7912145+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)" in 5.5067ms
2024-01-10T12:21:49.7912571+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPasswordValidate (IMS.WebApi)"'
2024-01-10T12:21:49.7913626+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:21:49.7913971+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:49.7914798+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:49.7915578+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/public/resetpassword/validate""?resetKey=RoSiSGoI902hyVMv9Jr0GGyOCargU76rfbKaVPHf2T6%2F3LDytT9f9gEdnp2SWnAB5DL5nBiE02WTKCWZXVXFvQ%3D%3D&resetId=da0e3f90-6c6f-4915-ad3d-e30be9e988ec" - 204 null null 7.189ms
2024-01-10T12:21:49.7922044+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O58"" received FIN.
2024-01-10T12:21:49.7926561+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O58"" disconnecting.
2024-01-10T12:21:49.7927339+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O58"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T12:21:49.7938356+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O58"" stopped.
2024-01-10T12:21:59.1313548+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O59"" accepted.
2024-01-10T12:21:59.1315184+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O59"" started.
2024-01-10T12:21:59.1320330+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - "application/json; charset=UTF-8" 209
2024-01-10T12:21:59.1323326+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/public/resetpassword/reset"'
2024-01-10T12:21:59.1323904+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"' with route pattern '"api/public/resetpassword/reset"' is valid for the request path '"/api/public/resetpassword/reset"'
2024-01-10T12:21:59.1324297+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T12:21:59.1325403+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T12:21:59.1328551+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T12:21:59.1329409+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T12:21:59.1331137+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"ResetPassword\", controller = \"Public\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(IMS.Infrastructure.Dto.ResetPasswordFromClientDto)" on controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi").
2024-01-10T12:21:59.1334275+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T12:21:59.1334611+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T12:21:59.1339011+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T12:21:59.1339532+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T12:21:59.1340236+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T12:21:59.1340771+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:59.1345516+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.PublicController" ("IMS.WebApi")
2024-01-10T12:21:59.1347560+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T12:21:59.1349569+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' using the name '""' in request data ...
2024-01-10T12:21:59.1352104+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json; charset=UTF-8"'.
2024-01-10T12:21:59.1357739+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HI57P9O59"", Request id ""0HN0HI57P9O59:00000001"": started reading request body.
2024-01-10T12:21:59.1359383+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HI57P9O59"", Request id ""0HN0HI57P9O59:00000001"": done reading request body.
2024-01-10T12:21:59.1363227+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter) JSON input formatter succeeded, deserializing to type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'
2024-01-10T12:21:59.1363996+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T12:21:59.1364340+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to bind parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T12:21:59.1364766+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"' ...
2024-01-10T12:21:59.1372637+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder) Done attempting to validate the bound parameter '"reset"' of type '"IMS.Infrastructure.Dto.ResetPasswordFromClientDto"'.
2024-01-10T12:21:59.1374125+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" - Validation state: Valid
2024-01-10T12:21:59.1385685+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "8.0.0" initialized '"ImsContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297"' with options: "using NodaTime using snake-case naming  (culture=)"
2024-01-10T12:21:59.1390310+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Creating DbConnection.
2024-01-10T12:21:59.1390955+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Created DbConnection. (0ms).
2024-01-10T12:21:59.1391487+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.1392151+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.1393743+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:59.1394241+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:59.1394895+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:59.1395458+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:59.1404137+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid), @__resetKey_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.validity, t.timestamp_send, t.is_used, t.user_id
FROM tbl_reset_password AS t
WHERE t.id = @__id_0 AND t.reset_key = @__resetKey_1
LIMIT 2"
2024-01-10T12:21:59.1406445+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.1407157+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:21:59.1408601+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.1409173+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:59.2020143+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:21:59.2024469+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:21:59.2029146+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) Context '"ImsContext"' started tracking '"TblResetPassword"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:21:59.2030370+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:21:59.2031529+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges starting for '"ImsContext"'.
2024-01-10T12:21:59.2032749+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges starting for '"ImsContext"'.
2024-01-10T12:21:59.2036544+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblUser"."Status"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T12:21:59.2039476+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) The unchanged property '"TblResetPassword"."IsUsed"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10T12:21:59.2041731+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) DetectChanges completed for '"ImsContext"'.
2024-01-10T12:21:59.2053370+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) Executing 2 update commands as a batch.
2024-01-10T12:21:59.2055435+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opening connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.2056167+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Opened connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.2059049+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Beginning transaction with isolation level '"Unspecified"'.
2024-01-10T12:21:59.2060316+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Began transaction with isolation level '"ReadCommitted"'.
2024-01-10T12:21:59.2061355+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Creating DbCommand for '"ExecuteReader"'.
2024-01-10T12:21:59.2061718+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Created DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:59.2062984+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Initialized DbCommand for '"ExecuteReader"' (0ms).
2024-01-10T12:21:59.2106603+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Executing DbCommand [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T12:21:59.2124465+08:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("6"ms) [Parameters=["@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Object), @p6='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tbl_reset_password SET is_used = @p0, timestamp_updated = @p1
WHERE id = @p2;
UPDATE tbl_user SET password_hash = @p3, password_salt = @p4, status = @p5, timestamp_updated = @p6
WHERE id = @p7;"
2024-01-10T12:21:59.2126141+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) Closing data reader to '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.2126681+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Command) A data reader for '"ims"' on server '"tcp://localhost:5432"' is being disposed after spending 0ms reading results.
2024-01-10T12:21:59.2127855+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committing transaction.
2024-01-10T12:21:59.2134701+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Committed transaction.
2024-01-10T12:21:59.2135278+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.2135748+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Closed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:59.2136698+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Transaction) Disposing transaction.
2024-01-10T12:21:59.2138668+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblUser"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:21:59.2139522+08:00 [DBG] (Microsoft.EntityFrameworkCore.ChangeTracking) An entity of type '"TblResetPassword"' tracked by '"ImsContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10T12:21:59.2140251+08:00 [DBG] (Microsoft.EntityFrameworkCore.Update) SaveChanges completed for '"ImsContext"' with 2 entities written to the database.
2024-01-10T12:21:59.2141537+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 76.6656ms.
2024-01-10T12:21:59.2147099+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 204
2024-01-10T12:21:59.2147796+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)" in 80.7184ms
2024-01-10T12:21:59.2148144+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.PublicController.ResetPassword (IMS.WebApi)"'
2024-01-10T12:21:59.2149546+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) '"ImsContext"' disposed.
2024-01-10T12:21:59.2149793+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposing connection to database '"ims"' on server '"tcp://localhost:5432"'.
2024-01-10T12:21:59.2150028+08:00 [DBG] (Microsoft.EntityFrameworkCore.Database.Connection) Disposed connection to database '"ims"' on server '"tcp://localhost:5432"' (0ms).
2024-01-10T12:21:59.2150636+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/resetpassword/reset""" - 204 null null 83.0502ms
2024-01-10T12:21:59.2151294+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O59"" disconnecting.
2024-01-10T12:21:59.2151554+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O59"" stopped.
2024-01-10T12:21:59.2152134+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O59"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T15:59:04.9240081+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O5A"" accepted.
2024-01-10T15:59:04.9283509+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O5A"" started.
2024-01-10T15:59:04.9423042+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/login""" - "application/json; charset=UTF-8" 54
2024-01-10T15:59:04.9467392+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/api/public/login"'
2024-01-10T15:59:04.9472139+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T15:59:04.9571756+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) "POST" requests are not supported
2024-01-10T15:59:04.9681215+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T15:59:04.9722733+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/login""" - 404 0 null 30.5987ms
2024-01-10T15:59:04.9750482+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O5A"" received FIN.
2024-01-10T15:59:04.9759232+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HI57P9O5A"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T15:59:04.9766030+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O5A"" disconnecting.
2024-01-10T15:59:04.9806770+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:5000""""/api/public/login", Response status code: 404
2024-01-10T15:59:04.9810417+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HI57P9O5A"" stopped.
2024-01-10T16:05:35.6156864+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T16:05:35.6246031+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T16:05:35.6507167+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
2024-01-10T16:18:26.3423028+08:00 [DBG] (Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory) Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10T16:18:26.4663980+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting starting
2024-01-10T16:18:26.4751461+08:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"/home/aliuddin/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2024-01-10T16:18:26.4807158+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository) Reading data from file '"/home/aliuddin/.aspnet/DataProtection-Keys/key-501e425e-9b82-4b31-bcab-7d8e88d611b4.xml"'.
2024-01-10T16:18:26.4884375+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) Found key {501e425e-9b82-4b31-bcab-7d8e88d611b4}.
2024-01-10T16:18:26.4963174+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver) Considering key {501e425e-9b82-4b31-bcab-7d8e88d611b4} with expiration date 2024-03-24 12:04:00Z as default key.
2024-01-10T16:18:26.4981243+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.TypeForwardingActivator) Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2024-01-10T16:18:26.4993419+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
2024-01-10T16:18:26.4994679+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory) Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
2024-01-10T16:18:26.5062718+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider) Using key {501e425e-9b82-4b31-bcab-7d8e88d611b4} as the default key.
2024-01-10T16:18:26.5067672+08:00 [DBG] (Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService) Key ring with default key {501e425e-9b82-4b31-bcab-7d8e88d611b4} was loaded during application startup.
2024-01-10T16:18:26.5352316+08:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: "http://localhost:5000"
2024-01-10T16:18:26.5355309+08:00 [DBG] (Microsoft.AspNetCore.Hosting.Diagnostics) Loaded hosting startup assembly "IMS.WebApi"
2024-01-10T16:18:26.5357774+08:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2024-01-10T16:18:26.5358626+08:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2024-01-10T16:18:26.5358952+08:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "/home/aliuddin/Documents/projek sendiri/code/IMS/IMS.WebApi"
2024-01-10T16:18:26.5359416+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting started
2024-01-10T16:18:26.5938040+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122A"" received FIN.
2024-01-10T16:18:26.5977009+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122A"" accepted.
2024-01-10T16:18:26.5984378+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122A"" started.
2024-01-10T16:18:26.6054530+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122A"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T16:18:26.6111709+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122A"" disconnecting.
2024-01-10T16:18:26.6154678+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122A"" stopped.
2024-01-10T16:18:27.7032975+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" accepted.
2024-01-10T16:18:27.7037555+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" started.
2024-01-10T16:18:27.7039641+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122C"" accepted.
2024-01-10T16:18:27.7040638+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122C"" started.
2024-01-10T16:18:27.7837058+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - null null
2024-01-10T16:18:27.7868889+08:00 [DBG] (Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware) Wildcard detected, all requests with hosts will be allowed.
2024-01-10T16:18:27.8021345+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/index.html"'
2024-01-10T16:18:27.8027266+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T16:18:27.8969252+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" completed keep alive response.
2024-01-10T16:18:27.8986288+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.4835ms
2024-01-10T16:18:27.9750256+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/swagger-ui-bundle.js""" - null null
2024-01-10T16:18:27.9764925+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
2024-01-10T16:18:27.9767679+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T16:18:28.0038600+08:00 [INF] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2024-01-10T16:18:28.0071856+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" completed keep alive response.
2024-01-10T16:18:28.0077819+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/swagger-ui-bundle.js""" - 200 1061536 "text/javascript" 32.7095ms
2024-01-10T16:18:28.2260471+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2024-01-10T16:18:28.2263470+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/swagger/v1/swagger.json"'
2024-01-10T16:18:28.2264323+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T16:18:28.3463524+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" completed keep alive response.
2024-01-10T16:18:28.3466470+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 120.5935ms
2024-01-10T16:18:54.9949339+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122D"" accepted.
2024-01-10T16:18:54.9960629+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122D"" started.
2024-01-10T16:18:54.9979355+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/login""" - "application/json; charset=UTF-8" 63
2024-01-10T16:18:54.9984063+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/api/public/login"'
2024-01-10T16:18:54.9984929+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T16:18:54.9992455+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) "POST" requests are not supported
2024-01-10T16:18:55.0484966+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T16:18:55.0498689+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/login""" - 404 0 null 51.9042ms
2024-01-10T16:18:55.0503099+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:5000""""/api/public/login", Response status code: 404
2024-01-10T16:18:55.0508198+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122D"" received FIN.
2024-01-10T16:18:55.0510020+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T16:18:55.0513320+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HMIS7122D"", Request id ""0HN0HMIS7122D:00000001"": started reading request body.
2024-01-10T16:18:55.0520744+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122D"" disconnecting.
2024-01-10T16:18:55.0529956+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.BadRequests) Connection id ""0HN0HMIS7122D"" bad request data: ""Unexpected end of request content.""
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.TryReadInternal(ReadResult& readResult)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1MessageBody.OnConsumeAsync()
2024-01-10T16:18:55.0621725+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HMIS7122D"", Request id ""0HN0HMIS7122D:00000001"": done reading request body.
2024-01-10T16:18:55.0624164+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122D"" stopped.
2024-01-10T16:19:03.5462406+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122E"" accepted.
2024-01-10T16:19:03.5466107+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122E"" started.
2024-01-10T16:19:03.5471365+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/login""" - "application/json; charset=UTF-8" 63
2024-01-10T16:19:03.5485398+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) No candidates found for the request path '"/api/public/login"'
2024-01-10T16:19:03.5487030+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request did not match any endpoints
2024-01-10T16:19:03.5488190+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) "POST" requests are not supported
2024-01-10T16:19:03.5511316+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T16:19:03.5514168+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/public/login""" - 404 0 null 4.2786ms
2024-01-10T16:19:03.5515195+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:5000""""/api/public/login", Response status code: 404
2024-01-10T16:19:03.5515896+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HMIS7122E"", Request id ""0HN0HMIS7122E:00000001"": started reading request body.
2024-01-10T16:19:03.5516954+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel) Connection id ""0HN0HMIS7122E"", Request id ""0HN0HMIS7122E:00000001"": done reading request body.
2024-01-10T16:19:03.5517780+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122E"" disconnecting.
2024-01-10T16:19:03.5518437+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122E"" stopped.
2024-01-10T16:19:03.5519208+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T16:19:43.7946194+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122C"" received FIN.
2024-01-10T16:19:43.7950732+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122C"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T16:19:43.7952717+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122C"" disconnecting.
2024-01-10T16:19:43.7965849+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122C"" stopped.
2024-01-10T16:20:00.4936161+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122F"" accepted.
2024-01-10T16:20:00.4938062+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122F"" started.
2024-01-10T16:20:00.4941515+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/authentication/login""" - "application/json; charset=UTF-8" 64
2024-01-10T16:20:00.4983056+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) 1 candidate(s) found for the request path '"/api/authentication/login"'
2024-01-10T16:20:00.5012955+08:00 [DBG] (Microsoft.AspNetCore.Routing.Matching.DfaMatcher) Endpoint '"IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)"' with route pattern '"api/authentication/login"' is valid for the request path '"/api/authentication/login"'
2024-01-10T16:20:00.5017742+08:00 [DBG] (Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware) Request matched endpoint '"IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)"'
2024-01-10T16:20:00.5024500+08:00 [DBG] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) Static files was skipped as the request already matched an endpoint.
2024-01-10T16:20:00.5041469+08:00 [DBG] (Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler) AuthenticationScheme: "Bearer" was not authenticated.
2024-01-10T16:20:00.5050527+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)"'
2024-01-10T16:20:00.5158638+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"Login\", controller = \"Authenticate\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "IMS.WebApi.Controllers.AuthenticateController" ("IMS.WebApi").
2024-01-10T16:20:00.5174414+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "authorization" filters (in the following order): ["None"]
2024-01-10T16:20:00.5175830+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "resource" filters (in the following order): ["None"]
2024-01-10T16:20:00.5193155+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10T16:20:00.5193841+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "exception" filters (in the following order): ["None"]
2024-01-10T16:20:00.5195056+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10T16:20:00.5204126+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing controller factory for controller "IMS.WebApi.Controllers.AuthenticateController" ("IMS.WebApi")
2024-01-10T16:20:00.6421113+08:00 [DBG] (Microsoft.EntityFrameworkCore.Infrastructure) An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10T16:20:00.6697018+08:00 [DBG] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed controller factory for controller "IMS.WebApi.Controllers.AuthenticateController" ("IMS.WebApi")
2024-01-10T16:20:00.6765964+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executing action method "IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)" - Validation state: Valid
2024-01-10T16:20:00.6802866+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action method "IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 0.2059ms.
2024-01-10T16:20:00.6876424+08:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing StatusCodeResult, setting HTTP status code 200
2024-01-10T16:20:00.6911881+08:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)" in 168.4529ms
2024-01-10T16:20:00.6913114+08:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"IMS.WebApi.Controllers.AuthenticateController.Login (IMS.WebApi)"'
2024-01-10T16:20:00.6925579+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122F"" received FIN.
2024-01-10T16:20:00.6926966+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T16:20:00.6927882+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122F"" disconnecting.
2024-01-10T16:20:00.6928835+08:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/authentication/login""" - 200 0 null 198.7091ms
2024-01-10T16:20:00.6929995+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122F"" stopped.
2024-01-10T16:20:39.5472726+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" disconnecting.
2024-01-10T16:20:39.5473858+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Connections) Connection id ""0HN0HMIS7122B"" stopped.
2024-01-10T16:20:39.5476649+08:00 [DBG] (Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets) Connection id ""0HN0HMIS7122B"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2024-01-10T16:59:17.7405230+08:00 [INF] (Microsoft.Hosting.Lifetime) Application is shutting down...
2024-01-10T16:59:17.7417485+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopping
2024-01-10T16:59:17.7542178+08:00 [DBG] (Microsoft.Extensions.Hosting.Internal.Host) Hosting stopped
